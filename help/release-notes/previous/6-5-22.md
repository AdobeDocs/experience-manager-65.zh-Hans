---
title: ' [!DNL Adobe Experience Manager] 6.5 发行说明'
description: 查找  [!DNL Adobe Experience Manager] 6.5 的发行信息、新增功能、安装指南以及详细的变更列表。
mini-toc-levels: 4
solution: Experience Manager
feature: Release Information
role: User,Admin,Architect,Developer
exl-id: 0e95447a-540c-4c0e-8fdf-c78d525d9531
source-git-commit: 4ef81a9ef5e5411c900eb76ee55edd33f9ed8895
workflow-type: ht
source-wordcount: '6228'
ht-degree: 100%

---

# [!DNL Adobe Experience Manager] 6.5.22.0 {#aem-service-pack-release-notes}

<!-- For an itemized list of all issues found in this release information, see the following spreadsheet: https://adobe-my.sharepoint.com/:x:/r/personal/anujkapo_adobe_com/_layouts/15/Doc.aspx?sourcedoc=%7B3ea81ae4-e605-4153-b132-f2698c86f84e%7D&action=edit&wdinitialsession=d8c7b903-87fc-4f2d-9ef2-542a82169570&wdrldsc=3&wdrldc=1&wdrldr=SessionMemoryQuotaExceededDuringSession -->

<!-- DO NOT DELETE THIS HIDDEN NOTE      DO NOT DELETE THIS HIDDEN NOTE
>[!NOTE]
>
>Fixes in [!DNL Experience Manager] Forms are delivered through a separate add-on package one week after the scheduled [!DNL Experience Manager] Service Pack release date. In this case, the add-on packages release Thursday, November 30, 2023. In addition, a list of Forms fixes and enhancements is added to this section. -->

## 发行版本信息 {#release-information}

| 产品 | [!DNL Adobe Experience Manager] 6.5 |
| -------- | ---------------------------- |
| 版本号 | 6.5.22.0 <!-- UPDATE FOR EACH NEW RELEASE --> |
| 类型 | 服务包版本 |
| 日期 | 2024 年 11 月 21 日，星期四 <!-- UPDATE FOR EACH NEW RELEASE --> |
| 下载 URL | [软件分发](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/servicepack/aem-service-pkg-6.5.22.0.zip) <!-- UPDATE FOR EACH NEW RELEASE --> |

## [!DNL Experience Manager] 6.5.22.0 的内容 {#what-is-included-in-aem-6522}

[!DNL Experience Manager] 6.5.22.0 包含新功能、客户重点要求的增强功能以及错误修复。还包括自 2019 年 4 月 6.5 首次发布以来推出的在性能、稳定性和安全性方面的改进。[在 [!DNL Experience Manager] 6.5 上安装此服务包](#install)。

<!-- UPDATE FOR EACH NEW RELEASE -->

## 主要功能和增强功能

### Forms {#forms-sp22}

此版本的主要功能和增强功能包括：

#### AEM Forms 中的新 GA 功能 {#ga-aem-forms-sp22}

* 在[交互式通信批处理 API](https://experienceleague.adobe.com/zh-hans/docs/experience-manager-65/content/forms/interactive-communications/create-interactive-communication#output-format-print-channel) 中新增了对字体嵌入的支持——交互式通信现已支持在通过批处理 API 生成的 PDF 中嵌入 Adobe 明体和 Adobe Myungjo 字体。这一增强确保了生成文档中的文本渲染更加准确，即使在使用字体子集时也能保持效果，从而为 PDF 输出中的多语言内容提供了更完善的支持。

* [PDF 无障碍目录 API](/help/forms/using/aem-document-services-programmatically.md#auto-tag-pdf-documents-auto-tag-api)：现已在 OSGi 上的 AEM Forms 中支持全新的 TOC 标记 API，以提升 PDF 对无障碍标准的符合性。此功能可让使用辅助技术的用户更方便地访问 PDF。

* [片段 XDP 解析](/help/forms/using/assembler-service.md#resolve-references-on-crx-repository-resolve-references-on-crx-repository)：现已在 OSGi 上的 AEM Forms 中支持解析在主 XDP 中引用的并存储于 AEM CRX 存储库中的片段 XDP。

* [PDF/A 合规性增强](/help/forms/developing/pdf-a-documents.md#converting-documents-to-pdfa-documents-converting-documents-to-pdf-a-documents)：用户现在可以将 PDF 转化为 PDF/A 格式（1a、2a、3a）以满足归档需求，同时还可确保无障碍访问并验证其对这些标准的符合性。

* **支持静态 PDF 文档自动调整字体大小**：AEM Forms Designer、OutputService 和 FormsService 现已支持静态 PDF 自动调整字体大小。当用户将文本、数字、密码或日期时间字段的字体大小设置为 0 时，字体大小会在这些字段中自动调整，而不会改变字段的整体尺寸。要使用此功能，用户需在自定义 XCI 中传递以下标记：`<behaviorOverride>patch-LC-3921991:1</behaviorOverride>`。

#### AEM Forms 中的新 Beta 功能 {#beta-aem-forms-sp22}

Beta 功能为您提供获取前沿创新的独家体验，并参与塑造其未来发展的宝贵机会。有兴趣在您的环境中启用 Beta 功能吗？请使用您的官方邮箱发送电子邮件至 aem-forms-ea@adobe.com，并在邮件中列出您感兴趣的功能列表。

* [hCaptcha](/help/forms/using/integrate-adaptive-forms-hcaptcha.md) 和 [Cloudflare Turnstile CAPTCHA 服务](/help/forms/using/integrate-adaptive-forms-turnstile.md)：AEM Forms 支持以下验证码服务：
   * hCaptcha 通过复选框小组件对用户进行验证，从而保护表单免受机器人、垃圾信息和自动化滥用的威胁。它确保只有真实用户才能继续操作，从而提升在线交易的安全性。
   * Cloudflare Turnstile 提供了一种安全机制，旨在保护表单免受自动化机器人、恶意攻击、垃圾信息和不必要的自动化流量的侵扰。在提交表单之前，它会呈现一个复选框以验证用户身份，确认其为真人后才允许提交表单。

* 自适应表单版本控制：
   * [创建自适应表单的多个版本](/help/forms/using/add-versioning-reviews-comments.md)：现在用户可以轻松管理现有表单的不同变体。该流程简化了版本控制，并便于对表单进行比较和优化，且整个操作均在一个统一而高效的工作流中完成。
   * [比较自适应表单](/help/forms/using/compare-forms-core-components.md)：现在用户可以轻松对比两个表单，以识别其中的差异。它使团队成员能够比较修订内容，并有效地讨论相关变化，从而促进顺利协作。

<!-- * _6.5.21.0 REVIEWERS: WHAT ARE THE KEY FEATURES AND ENHANCEMENTS THAT YOU WANT TO HIGHLIGHT IN THIS RELEASE?_ -->

### Sites {#sites}

[通用编辑器](/help/sites-developing/universal-editor/introduction.md) 现已通过功能包在 AEM 6.5 上提供，支持 Headless 用例。

### [!DNL Assets]

IPTC 选项卡现已支持[!UICONTROL 替代文本]和[!UICONTROL 扩展描述]文本字段。（ASSETS-34918）

<!-- UPDATE BELOW FOR EACH NEW RELEASE -->

## 服务包 22 中已修复的问题 {#fixed-issues}


### [!DNL Sites]{#sites-6522}


#### 辅助功能 {#sites-accessibility-6522}

* 批注色板选择器按钮缺少可访问名称。也就是说，当使用屏幕阅读器时，在输入新的十六进制值后，该按钮没有能够让人理解的名称可供选择。（SITES-11992）
* 左侧边栏菜单中的以下元素在界面上呈现为列表，但在屏幕阅读器中却未被标记为列表：

   * 网站
   * Live Copy 
   * 发布
   * 语言副本
   * 文件夹
   * CSV 报告（SITES-2874）

* AEM 核心网站内容管理要求在富文本编辑器中为超链接添加无障碍标签。当在文本组件中使用超链接时，定位标记应包含 `aria-label` 属性，以确保屏幕阅读器能够准确读取并传达链接文本，从而满足无障碍要求。（SITES-11511）
* 在 AEM 的列表视图中，表格标题中的交互元素未分配所需的“按钮”角色。因此，NVDA 屏幕阅读器无法为以下表格标题朗读预期的按钮角色：标题、名称、修改时间、发布时间、预览、模板、操作、工作流。为确保与 NVDA 等辅助技术的兼容性，应为表格标题中的每个交互元素分配“按钮”角色。（SITES-10962）


#### 管理用户界面{#sites-adminui-6522}

* 在某些 AEM 实例中，版本预览和比较功能在多个页面上未能按预期运行。具体情况如下：

   * **预览问题：**&#x200B;当尝试预览页面版本时，最初会出现错误。重试后，预览结果显示为空白页面。
   * **版本比较问题：**“与当前版本比较”功能仅显示当前版本，而未突出显示不同版本之间的差异。（SITES-23988）

* 在进行复制粘贴且将 `defaultPasteMode` 设置为 `plaintext` 时，富文本编辑器（RTE）字段中会出现意外的 `<br>` 标记。该问题会导致相同内容生成不同的标记，从而在客户的翻译记忆库中将同一文本当作两条不同的条目而被重复翻译。（SITES-23606）
* 在 AEM 6.5.20.0 中，**管理发布**&#x200B;功能出现问题。当选择某个节点并计划在未来发布时，如果尝试包含子节点，可能会出现错误消息 —— “无法检索所选项目的子资产”。此问题阻止了&#x200B;**包含子项**&#x200B;选项的使用，进而无法完整发布目标内容层级。（SITES-23000）
* 在创作环境中，模板的“已发布”时间戳未能更新，尽管该模板已成功复制到发布实例。预期行为是创作实例上的时间戳应反映最新的发布情况，但实际并未按预期进行更新。（SITES-21585）
* 在 AEM 创作环境中，传入链接的计数存在不一致。左侧边栏显示的链接数量少于经典 UI。此外，一些原本有效的传入链接无法正常工作。（SITES-24837）
* 在 AEM 的时间线视图中查看页面版本时，报告显示加载时间过长。可能需要长达 19 分钟才能显示版本。此问题自从从 AEM 6.4.8 升级至 6.5.18 后一直存在，严重影响了工作流效率。（SITES-22468 和 SITES-22467）

<!-- #### Classic UI{#sites-classicui-6522} 

* A -->


#### [!DNL Content Fragments]{#sites-contentfragments-6522}

* 在升级后的 AEM 6.5.17 中，保存内容片段时会出现以下错误：*错误：无法保存内容片段。*（SITES-22993）
* 在 AEM 的发布中，`ContentFragmentModelOmniSearchHandler` 中存在未关闭的资源解析器问题。（SITES-24903）


#### [!DNL Content Fragments] - 管理{#sites-admin-6522}

在电子邮件通知中点击链接时，用户会被引导至默认的资产查看器或编辑器。即使工作流中的资产已被识别为内容片段，系统仍未跳转至内容片段编辑器。（SITES-24338）


#### [!DNL Content Fragments] - GraphQL API {#sites-graphql-api-6522}

在使用带有多行文本字段项的内容片段时，通过 GraphQL 查询生成的标记未能保留 HTML 中指定的格式。例如，列表后缺少换行符。这导致最后一段文字被归入列表中。（SITES-23233）


<!-- #### [!DNL Content Fragments] - GraphQL Query Editor{#sites-graphql-query-editor-6522}

* A


#### [!DNL Content Fragments] - REST API{#sites-restapi-6522}

* A -->

#### 核心后端{#sites-core-backend-6522}

* 在某个 AEM 作者实例中反复出现 `SegmentNotFoundException` 错误。重启作者实例可暂时解决该问题，但需要长期修复以防止再次发生。（SITES-22573）
* AEM Sites 的时间线功能出现问题，具体与处理注释中缺失的 `cq:lastModified` 属性相关。在应用 AEM 6.5.20 后，人们不确定现有内容是否需要针对该缺失属性进行修复，或者时间线功能是否已更新为在缺少该属性的情况下仍能正常运行。（SITES-21861）


#### 核心组件{#sites-core-components-6522}

* 在从 AEM 6.5.18 升级至 6.5.21 后，组件实时使用情况检查功能出现问题。在实时使用情况页面尝试滚动加载更多项目时，尽管用户界面显示“正在加载更多项目”，但表格未能加载更多结果。（SITES-23919）
* 在一个包含两个选项卡的 AEM 组件对话框中，对必填字段的验证出现问题。选项卡 1 包含富文本编辑器（RTE）和文本字段，选项卡 2 包含路径字段和文本字段。虽然所有字段均已标记为必填（`required=true`），但即使填入了选项卡 1 中的所有必填字段，错误通知仍然错误地持续存在。相比之下，选项卡 2 中的错误会按预期清除。（SITES-23243）
* 迁移至 AEM 6.5.21 后，HTML 模板语言中的 `data-sly-include` 语句未能按预期运行，具体表现为不再支持 `appendPath` 和 `prependPath` 表达式。因此，尽管在迁移之前运行正常，但所包含资源的输出未能正确渲染。该问题导致依赖这些表达式进行路径处理的资源出现渲染失败的情况。（GRANITE-52970）


<!-- #### Campaign integration{#sites-campaign-integration-6522}

* A -->


#### 体验片段{#sites-experiencefragments-6522}

* 在列表视图中点击&#x200B;**标题**&#x200B;列标题时，体验片段未能按标题进行排序。界面会出现短暂闪烁，但未执行排序操作。（SITES-23706）

* 在 AEM 6.5.17 中，使用开箱即用的功能将页面组件转化为体验片段时遇到问题。转化后，在编辑过程中该体验片段显示为空白，但在使用它的页面上却能正常显示。该问题源于节点创建错误：组件节点被放置在根节点/容器节点之外，违反了模板结构。必须手动将组件节点移动到正确的根节点/容器节点中，才能恢复体验片段的可编辑性。（SITES-22974）

* 从 AEM 6.5.11 迁移至 6.5.20 后，体验片段上的云配置无法正确保存。尽管在 `crx/de` 中显示已保存配置，但重新打开配置控制台时未能显示，表明存在持久化问题。（SITES-22287）


<!-- #### Foundation Components (Legacy){#sites-foundation-components-legacy-6522}

* A -->


#### 发布项{#sites-launches-6522}

在 AEM 生产环境中使用标记筛选条件添加体验片段资产时，用户可以进行选择，但在点击&#x200B;**创建语言副本**&#x200B;后会遇到错误。预期行为是，通过标记筛选条件选择的体验片段资产应被添加到翻译项目中。（SITES-24152）

#### 链接检查器{#sites-link-checker-6522}

由于 HTTP 客户端在尝试基本身份验证之前会先尝试 NTLM，因此 LinkCheckerTask 无法完成身份验证，导致代理在多次失败后阻止用户。系统应改为使用基本身份验证与代理进行认证，以确保 LinkCheckerTask 服务能够正常运行。（SITES-25034）


#### MSM - Live Copy {#sites-msm-live-copies-6522}

* 当将 SEO Robots 标签应用到主副本并推送至 Live Copy 页面时，其值在 `crx/de` 中正常显示。但是，在 Live Copy 页面的“页面属性”用户界面中，这些值未能正确显示。（SITES-23475）
* 当尝试通过用户界面提升一个发布项时，会出现与发布项相关的错误。“提升发布内容”向导界面为空，导致无法完成提升流程。（SITES-19718）
* 在 AEM 中创建 Live Copy 并执行推送后，体验片段出现问题。当用户尝试从推送界面返回体验片段管理界面时，会遇到 `NotFound` 错误。（SITES-21933）


#### 页面编辑器{#sites-pageeditor-6522}

* “撤销”按钮在将文本恢复到上一个版本的同时，还改变了组件的位置。（SITES-17465）
* 当粘贴已复制的容器组件时，它在界面上显示为两次，导致页面上出现三个实例。然而，在刷新页面后，重复的实例消失，表明该问题可能只是暂时的视觉故障。（SITES-21890）
* 在使用键盘 Tab 或 Shift+Tab 键浏览“组件”左侧窗格时，多个文本元素在视觉和 Tab 模式下均未清晰可见。该问题影响了无障碍使用，使用户在使用键盘进行导航的过程中难以识别或操作这些组件。（SITES-2266）

#### 复制{#sites-replication-6522}

在 AEM 6.5.18 和 6.5.19 中，停用父页面时会为每个子页面生成多个停用请求。该问题还导致 GraphQL 端点的批量取消发布功能失效。（NPR-42075 和 NPR42010）


### [!DNL Assets]{#assets-6522}

* 在使用连接的资产功能时，在 AEM Assets 中所做的更新未能在 AEM Sites 环境中同步体现。（ASSETS-42344）
* 在 Experience Manager 中将资产从一个位置移动到另一个位置时，资产的发布状态出现问题。（ASSETS-41158）
* 通过 API 上传资产时，会出现 `unclosed resource resolver` 错误消息。（ASSETS-41049）
* 升级至 Adobe Experience Manager 服务包 21 后，`AssetReferenceResolverImpl` 引用查询出现问题。（ASSETS-40384）
* 在 AEM 6.5.19 中，从搜索面板结果中移除一个选项时，会同时取消选中所有其他可用复选框。（ASSETS-37335）
* 在执行批量元数据导出操作时，Excel 输出中显示了无效值。（ASSETS-37260）
* 在 AEM 6.5.19 中，当上传 UTF-8 格式的 SVG 文件时，输出会出现模糊现象。（ASSETS-36616）
* 在连接的资产配置中缺少 `Fetch original rendition for Dynamic Media Connected Assets` 选项。（ASSETS-41726）
* 即使未为必填字段定义值，资产属性仍会被保存。（ASSETS-37914）
* 如果资产的处理状态为“失败”或“元数据失败”，则字幕和音轨界面无法正常工作。（ASSETS-37281）
* 当您保存资产元数据并尝试编辑时，语言名称不会显示。（ASSETS-37281）

#### [!DNL Dynamic Media]{#assets-dm-6522}

在生产环境中，视频上传至 Dynamic Media 失败时，迁移流程受到中断，且用户界面会显示流程失败错误。（ASSETS-36038）

<!--

### [!DNL Forms]{#forms-6522}

Fixes in [!DNL Experience Manager] Forms are delivered through a separate add-on package one week after the scheduled [!DNL Experience Manager] Service Pack release date. In this case, the AEM 6.5.22.0 Forms add-on package release is scheduled for Thursday, November 28, 2024. A list of Forms fixes and enhancements is added to this section post the release.

-->

### Forms {#forms-bug-fixes-sp22}

* 在 AEM Forms 中，已保存草稿中为文件附件生成的 URL 未能反映已配置的 Apache Sling Resource Resolver Factory 映射。（FORMS-16949）
* 在 AEM Forms 服务包 19（6.5.19.0）中，用户预览书信时，内容未能正确对齐，部分空格缺失，并在某些位置出现字符 `x`。（FORMS-16670）
* 在 AEM Forms 服务包 18（6.5.18.0）中，用户尝试使用 CIFS 协议打印文件时会失败，并会显示错误：（FORMS-16629）
  `ALC-OUT-001-401: Unknown error while printing using CIFS on the Printer: \\\\\\\\NSMVPLUETEST01\\\\TH_Test`。
* 当用户从 AEM Forms 服务包 17（6.5.17.0）升级到 AEM Forms 服务包 20（6.5.20.0）时，规则编辑器图标未在表单容器级别显示。（FORMS-16430）
* 当用户从 AEM Forms 服务包 17（6.5.17.0）升级到 AEM Forms 服务包 21（6.5.21.0）时，已修改的自适应表单提交 URL 路径无法正常工作。（FORMS15894）
* 在 AEM Forms 服务包 19（6.5.19.0）中，AEM Forms 6.5 的 PDF/A 验证在处理某些文件时失败，并报错 `creation date and modification date mismatch with timezone`，而在 Acrobat Pro 的 PDF/A 合规性验证中，该类文件则可正常通过。（FORMS-15840）
* 在 OSGi 上的 AEM Forms 服务包 15（6.5.15.0）中，用户通过网站页面上的“草稿和提交”组件删除表单草稿时，删除操作会失败。（FORMS-15755）
* 当用户的 SharePoint 列表包含超过 999 条记录且表单包含附件时，表单提交会失败。（FORMS-15057）
* 已添加验证规则以确保结束日期不早于开始日期，并为验证消息配置了自定义脚本。但是，当结束日期早于开始日期时，并未触发该验证。（FORMS-14757）
* 当用户在自适应表单中的表格上使用显示/隐藏功能时，字段大小会缩小。在添加并移除一行后，字段大小才会恢复正常。（FORMS-14756）
* 在 AEM Forms 服务包 19（6.5.19.0）中，用户打印表单时，部分表单在服务器端无法正确渲染，从而导致打印过程中出现错误。（FORMS14734）
* 当用户从 AEM Forms 服务包 15（6.5.15.0）升级到服务包 19（6.5.19.0）时，会出现问题。自定义显示模式 `num{$zzz,zz9.99}` 在预览和代理用户界面中无法正确渲染。（FORMS-14694）
* 当用户在交互式通信中使用已保存的数据 XML 预览书信时，该书信在 AEM 用户界面上会卡在“加载中”状态。使用相同的 XML 再次预览该书信时则可以正常显示。（FORMS-14521）
* 在 AEM Forms 服务包 20（6.5.20.0）中，用户在自适应表单中使用“发送电子邮件”按钮发送带有附件的电子邮件时，会遇到一个问题：附件名称显示在下一行，而不是内嵌显示。（FORMS-14426）
* 当用户在 AEM Forms 中生成包含项目符号列表的 PDF，并将项目符号样式设置为默认的“实心圆”时，该 PDF 在 Adobe Acrobat 的辅助功能检查工具中无法通过辅助功能检查。而使用“圆点”和“方块”样式的列表则能够通过辅助功能检查。（FORMS-13802、LC-3922179）
* 当用户在独立 RHEL8 JBoss® 环境中从 AEMForms-6.5.0-0065 升级到 AEMForms-6.5.0-0087 时，无法连接到 LiveCycle 服务容器。（FORMS-15907）*
* 在 AEM Forms on JEE 中，当用户在 AEM Workspace 中选择一个已提交的表单以启动新的表单流程时会出现问题。带有预填数据的表单会覆盖所有先前提交的数据，并会移除手动填写的字段。（FORMS-15376）
* 在 AEM Forms 服务包 20（6.5.20.0）中，用户使用 PDFG 服务将 Tiff 文件转化为 PDF 时会失败，并报错：（FORMS-14879）ALC-PDG-011-028-将输入图像文件转化为 PDF 时发生错误。com/sun/image/codec/jpeg/JPEGCodec
* 在 AEM Forms on JEE 中升级 jar 文件：现已包含 `commons-collections:commons-collections:jar` 库，以提升依赖解析能力，并改进以下各类 AEM Forms JEE 作业的功能，例如：
   * 增强汇编器作业，以改进作业处理和错误处理能力。
   * 增强 PDF Generator（PDFG）作业，以确保文档生成与转化过程更加顺畅。
   * 增强 LC-Upgrade 作业，以改进升级流程，确保版本间平稳过渡。
   * 增强 Rights Management 作业，以提升文档处理安全性并强化 Rights Management 功能。
   * 增强流程管理作业，以提升作业处理的可靠性和系统管理能力。
* 从 AEM Forms OSGi 6.5.22 开始，Forms 服务的 renderPDFForm 操作将不会再在服务器上执行仅限客户端（runAt=client）的脚本，只有标记为 runAt=server 或 runAt=both 的脚本才会执行，具体说明如下表所示。（FORMS-16564）

  | 标记为 runAt 的脚本 | 在服务器上执行 |
  |---------------------|-------------------------|
  | 服务器 | 是 |
  | 两者 | 是 |
  | 客户端 | 否 |

#### XMLFM {#forms-xmlfm-sp22}

* 在 AEM Forms 服务包 21（6.5.21.0）中，当用户使用 XMLFM 向 PDF 添加非标准标记时，文档将不符合 PDF 规范要求。（LC-3922484）
* 在 AEM Forms 服务包 20（6.5.20.0）中，当用户使用 Output 服务生成 PDF 时会失败，并会出现 CORBA.COMM_FAILURE 错误，同时显示以下报错信息：`15:04:35,973 ERROR [com.adobe.formServer.PA.XMLFormAgentWrapper] (default task-14) ALCOUT-002-013: XMLFormFactory, PAexecute failure: "org.omg.CORBA.COMM_FAILURE"`。当从 XDP 模板的子表单中移除无障碍角色“参考”时，服务可成功通过。然而，为满足 508 合规性，该角色是必需的。（LC-3922402）
* 当用户将 XFA 表单转化为 AcroForm PDF 时，转化失败。（LC-3922363）
* 在 AEM Forms 服务包 19（6.5.19.0）中，当用户创建包含未命名子表单的 XDP 时，FS_DATA_SOM 对未命名子表单显示为空。（LC-3922034）

#### Forms Designer {#forms-designer-sp22}

* 在 AEM Forms Designer 6.5.21.0 版本中，当用户通过选择片段文件夹打开片段库时，它会崩溃。（LC-3922439）
* 当用户卸载 32 位 AEM Forms Designer6.5.20.0 并安装 AEM Forms Designer 6.5.21.0 后，Forms Designer 无法启动。错误日志显示为 Java 运行时环境（JRE）的内存分配不足。（LC-3922404）
* 在用户安装 AEM Forms Designer 6.5.20.0 后，菜单中未显示“宏”选项，仅出现默认的“辅助功能检查器”宏，并且无法运行。（LC-3922321）
* 在 AEM Forms Designer 6.5.20.0 版本中，当用户为创建 XDP 添加新的模板位置时，Forms Designer 会崩溃。（LC-3922316）
* 在 AEM Forms 6.5 服务包 15（6.5.15.0）OSGi 中，当用户使用 ExportData 方法生成输出时，会产生不完整或错误的数据。（LC-3922340）


<!-- #### [!DNL Adaptive Forms] {#forms-6522}

* A


#### [!DNL Forms Designer] {#forms-designer-6522}

* A -->


### 基础 {#foundation-6522}

在 AEM Assets 控制台中，尝试对 DITA 文档重新排序时出现问题。路径浏览器对话框顶部的痕迹导航错误地显示了根父节点的节点名称，而非节点标题。只有在痕迹导航中选择某一项后，才会显示正确的节点标题，表明这是一个临时显示错误。（NPR-42106）


<!-- #### Apache Felix {#foundation-apachefelix-6522}


* A

#### Campaign{#foundation-campaign-6522}

* A


#### Cloud Services{#foundation-cloudservices-6522}

* A -->


#### Communities {#foundation-communities-6522}

从 AEM 6.5.19 升级至 6.5.20 后，调用 `UgcSearch` 时出现 `Connection evic` 线程无法正常关闭的问题。在生产环境中，该问题导致这些线程持续存在并逐渐累积，因此可能对系统性能造成影响。（NPR-42019）


<!-- #### Content distribution{#foundation-content-distribution-6522}

* A -->


#### CRX {#foundation-crx-6522}

* 在 CRX 包管理器中，左侧菜单按&#x200B;**组**&#x200B;排序未能正常工作。（GRANITE-53277）
* 在 AEM 中，包管理器默认限制安装较低版本的包，但允许强制安装旧版本。但是，使用强制安装选项可能会干扰后续通过标准管道进行的安装。例如，当已安装版本 1.21 后再添加版本 1.24，安装成功，且两个版本都会被列出。但若尝试在 1.24 之上安装版本 1.22，则通过管道安装会失败，而通过强制安装则可成功，并会列出所有版本。同样地，如果已存在版本 1.24，则无法通过管道安装版本 1.23，因为管道不允许降级操作。（GRANITE-53263）


#### Granite{#foundation-granite-6522}

* 在 AEM 中是通过 CURL 命令安装快照包的。在安装过程中，JCR 安装程序会通过 OSGi 安装程序扫描这些包，以确保不需要额外的 OSGi 捆绑包或配置。如果包版本中包含 “SNAPSHOT”，OSGi 安装程序则会触发 VLT，以创建相应的快照包。但是，由于每个 AEM 作者实例都会运行其独立的 OSGi 安装程序，则可能会同时尝试生成该快照，从而导致存储库内出现会话冲突。（NPR-42003）
* 在 AEM 6.5.21 中，`ScriptDependencyResolver` 存在锁竞争问题。（GRANITE-53181）
* 在将 AEM 升级至 6.5.21 后，当在 Sightly（HTL）语法中使用相对路径（如 `data-sly-use`）时会出现问题。（GRANITE-53080）


#### 集成{#foundation-integrations-6522}

* 为云服务用户界面新增了法律归属声明。（FORMS-16373）
* 为 **fd-cloudservice** 用户新增了读取权限，以访问 hCaptcha 和 Turnstile 配置，从而能够获取验证码渲染和验证所需的客户端 ID 与客户端密钥。此外，还实施了一个访问控制列表模型，用于管理对此类配置的访问权限。（FORMS-16360）


#### 本地化{#foundation-localization-6522}

在 ![锤子图标](https://spectrum.adobe.com/static/icons/workflow_18/Smock_Hammer_18_N.svg) 工具 > **安全** > ![用户图标](https://spectrum.adobe.com/static/icons/workflow_18/Smock_User_18_N.svg) **用户**&#x200B;中的“用户管理”页面，表格中&#x200B;**状态**&#x200B;列的数据显示为纵向排列。（GRANITE-48304）


<!-- #### Oak {#foundation-oak-6522}

* A -->


#### 平台{#foundation-platform-6522}

* 在 AEM 6.5.18 中引入的企业信息管理跟踪功能导致了产品采纳率分数计算异常。该问题是由 Adobe Metrics 库覆盖了 Omega 跟踪库提供的用户数据引起的。因此，自 2024 年 2 月起，许多 AEM Sites 和 AEM Assets 客户的采纳率分数降为零。（CQ-4358438）
* 生产环境中还发现了一个严重问题，即垃圾回收器在处理标记时存在错误。具体来说，当标记被移动或重命名时，垃圾回收器未能更新 `cq:MovedTo` 属性，导致标记在页面中消失。（CQ-4358293）
* 此外，AEM 6.5.19 中的 ContextHub 存在问题，当向 AEM 实例添加上下文路径时，区段解析结果不正确。该问题具体影响到页面组件生成的 JavaScript 对象中的 URL 字段，其中缺少所需的上下文路径前缀。这种遗漏导致区段无法按预期运行。（SITES-21852）
* 将 AEM Quickstart 更新为使用库 `commons-collections-3.2.2-adobe-2`。此更新可确保应用程序持续稳定运行。（NPR-42150）
* AEM 6.5 中的 SMTP OAuth2 设置与 AEM as a Cloud Service 中使用的设置存在显著差异。为简化配置并确保一致性，AEM 6.5 中的设置已与 AEM as a Cloud Service 所采用的标准保持一致。（GRANITE-53273）
* 当用户点击 ![指南针图标](https://spectrum.adobe.com/static/icons/workflow_18/Smock_Compass_18_N.svg) > ![项目图标](https://spectrum.adobe.com/static/icons/workflow_18/Smock_Project_18_N.svg) 项目，并将鼠标悬停在 ![边栏左侧图标](https://spectrum.adobe.com/static/icons/workflow_18/Smock_RailLeft_18_N.svg) ![向下箭头图标](https://spectrum.adobe.com/static/icons/workflow_18/Smock_ChevronDown_18_N.svg) 上时，工具提示文本“仅限内容”前会错误地显示一个重音符号。（CQ-4356633）

#### 安全性{#foundation-security-6522}

* 在 AEM 中还发现了一个与过时的 JSAFE 加密库（版本 6.0.0）相关的问题。在 AEM 6.5.22 中已包含带有 JSAFE 6.2.5 版本的修复包。（NPR-42006）
* 在进行 XSS 检查时验证允许的协议时，处理程序会与 &quot;http&quot; 和 &quot;https&quot; 进行比对。然而，URL 对象返回的 `protocol` 属性值包含一个尾随冒号，例如 `http:` 和 `https:`。这种不匹配导致了验证问题。为确保准确解析，协议检查需要考虑冒号，或相应调整比对逻辑。（NPR-42119）
* 在 IBM® WebSphere® Liberty Profile 和 Semeru Java 8.0 环境下，从 AEM 6.5.19 升级并安装 AEM 6.5.21 后，无法打开任何页面。错误日志显示，不同捆绑包所需的 servlet 版本存在冲突。为解决此问题，需要回退对 `org.apache.felix.http.servlet-api-1.2.0_fragment_full.jar` 的依赖，因为该问题与该依赖关系相关。（NPR-42116）
* 多个浏览器正在逐步停止对 **SameSite=None** Cookie 的支持，该属性可用于允许跨站点访问 Cookie。作为替代方案，引入了&#x200B;**分区 Cookie**。分区 Cookie 会根据使用的上下文隔离存储，在提升隐私与安全性的同时，可以防止跨网站跟踪，但仍允许 Cookie 在特定分区（例如嵌入的第三方内容）中正常发挥作用。（GRANITE-51953）


<!-- #### Sling{#foundation-sling-6522}

* A -->


#### 翻译{#foundation-translation-6522}

* 在默认翻译规则中新增对核心组件最新更改的支持。（NPR-42029）
* 在 AEM Forms 中发现了导出 XLIFF 文件时出现的问题。当使用&#x200B;**导出所选内容为 XLIFF（仅字符串）**&#x200B;选项时，组件顺序无法保持一致。但在为特定语言导出 XLIFF 时，顺序是正确的。为展示该问题，提供了两个文件：**DE-CH_Export.xliff**（顺序正确）和 **String_Export.xliff**（顺序错误）。（NPR-42118）


#### 用户界面{#foundation-ui-6522}

* `coralui-component-dialog` 会改变 `cq-dialog-actions` 的位置，这可能影响 AEM 对话框中操作按钮的布局或行为。（NPR-42294）
* AEM 中的拾色器功能出现异常。在访问时，会显示一个空白的模态窗口，无法进行颜色选择。该问题自暂存环境安装 AEM 6.5.20 后开始出现。在更新&#x200B;*之前*，拾色器工作正常。（NPR-42163）
* 在 ![锤子图标](https://spectrum.adobe.com/static/icons/workflow_18/Smock_Hammer_18_N.svg) **工具** > **工作流** > **模型** > 选择任意模型 > **启动工作流**&#x200B;的操作路径中，**运行工作流**&#x200B;对话框的“有效负载”字段缺少“浏览”图标。（NPR-42162）


<!-- #### WCM{#foundation-wcm-6522}

* A


#### Workflow{#foundation-workflow-6522}

* A -->


## 安装 [!DNL Experience Manager] 6.5.22.0{#install}

<!-- Remaining content from here to bottom stays the same except for version updating as needed as per update team feedback. -->

* [!DNL Experience Manager] 6.5.22.0 需要依赖 [!DNL Experience Manager] 6.5。详细说明请参阅[升级文档](/help/sites-deploying/upgrade.md)。<!-- UPDATE FOR EACH NEW RELEASE -->
* 服务包可通过 Adobe [软件分发](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/servicepack/aem-service-pkg-6.5.22.0.zip)下载。
* 在使用 MongoDB 且包含多个实例的部署中，请在其中一个作者实例上使用包管理器安装 [!DNL Experience Manager] 6.5.22.0。<!-- UPDATE FOR EACH NEW RELEASE -->

>[!IMPORTANT]
>
> Adobe 不建议移除或卸载 [!DNL Experience Manager] 6.5.22.0 包。因此，在安装该包之前，您应创建 `crx-repository` 的备份，以便在需要时进行回滚。<!-- UPDATE FOR EACH NEW RELEASE -->
<!-- For instructions to install Service Pack for Experience Manager Forms, see [Experience Manager Forms Service Pack installation instructions](/help/release-notes/aem-forms-current-service-pack-installation-instructions.md). -->


### 在 [!DNL Experience Manager] 6.5 上安装服务包{#install-service-pack}

1. 如果实例处于更新模式（即由早期版本升级而来），请在安装前先重启该实例。如果实例已长时间运行，Adobe 建议先重启。

1. 在安装之前，请为您的 [!DNL Experience Manager] 实例创建快照或执行一次全新的备份。

1. 从[软件分发](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/servicepack/aem-service-pkg-6.5.22.0.zip)下载服务包。<!-- UPDATE FOR EACH NEW RELEASE -->

1. 打开包管理器，然后选择&#x200B;**[!UICONTROL 上传包]**&#x200B;以上传该包。如需了解更多信息，请参阅[包管理器](/help/sites-administering/package-manager.md)。

1. 选择该包，然后选择&#x200B;**[!UICONTROL 安装]**。

1. 要更新 S3 连接器，请在安装服务包后停止实例，用安装文件夹中提供的新二进制文件替换现有连接器，然后重新启动实例。请参阅 [Amazon S3 数据存储](/help/sites-deploying/data-store-config.md#upgrading-to-a-new-version-of-the-s-connector)。

>[!NOTE]
>
>在安装服务包过程中，包管理器 UI 中的对话框有时会意外退出。Adobe 建议您在访问部署之前，先等待错误日志趋于稳定。在确认安装成功之前，请先等待与卸载更新程序包相关的特定日志出现。通常，该问题会在 [!DNL Safari] 浏览器中出现，但也可能会在其他浏览器中间歇出现。

**自动安装**

您可以使用以下两种方法来安装 [!DNL Experience Manager] 6.5.22.0。<!-- UPDATE FOR EACH NEW RELEASE -->

* 当服务器在线时，将包放入 `../crx-quickstart/install` 文件夹中。该包会自动安装。
* 使用[包管理器的 HTTP API](/help/sites-administering/package-manager.md#package-share)。请使用 `cmd=install&recursive=true` 以便安装嵌套的包。

>[!NOTE]
>
>Experience Manager 6.5.22.0 不支持 Bootstrap 安装。<!-- UPDATE FOR EACH NEW RELEASE -->

**验证安装**

要了解与此版本兼容的已经过认证的平台，请参阅[技术要求](/help/sites-deploying/technical-requirements.md)。

1. 在[!UICONTROL 已安装的产品]下，产品信息页面（`/system/console/productinfo`）会显示更新后的版本字符串 `Adobe Experience Manager (6.5.22.0)`。<!-- UPDATE FOR EACH NEW RELEASE -->

1. 在 OSGi 控制台中，所有 OSGi 捆绑包均应处于&#x200B;**[!UICONTROL 活跃]**&#x200B;或&#x200B;**[!UICONTROL 片段]**&#x200B;状态（使用网页控制台：`/system/console/bundles`）。

1. OSGi 捆绑包 `org.apache.jackrabbit.oak-core` 的版本应为 1.22.20 或更高版本（使用网页控制台：`/system/console/bundles`）。<!-- OAK Oak oak VERSION -MAY- NEED TO BE UPDATED FOR EACH NEW RELEASE. CHECK WITH SAMEER DHAWAN -->

### 安装 [!DNL Experience Manager] Forms 的服务包{#install-aem-forms-add-on-package}

如需了解在 Experience Manager Forms 上安装服务包的操作说明，请参阅 [Experience Manager Forms 服务包安装说明](/help/release-notes/aem-forms-current-service-pack-installation-instructions.md)。

>[!NOTE]
>
>在 [AEM 6.5 快速入门](https://experienceleague.adobe.com/zh-hans/docs/experience-manager-65/content/implementing/deploying/deploying/deploy)中谈及的自适应表单功能旨在仅作探索和评估用途。由于自适应表单功能需要适当的许可，因此必须获得 AEM Forms 的有效许可证才能作生产用途。

### 为 Experience Manager 内容片段安装 GraphQL 索引包{#install-aem-graphql-index-add-on-package}

使用 GraphQL 的客户必须安装[带有 GraphQL 索引包 1.1.1 的 Experience Manager 内容片段](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/featurepack/cfm-graphql-index-def-1.1.1.zip)。

这样做可根据实际使用的功能添加所需的索引定义。

如果未安装该包，可能会导致 GraphQL 查询变慢或失败。

>[!NOTE]
>
>每个实例只需安装一次该包；无需在每次安装服务包时重新安装。

### UberJar{#uber-jar}

适用于 [!DNL Experience Manager] 6.5.22.0 的 UberJar 可在 [Maven Central 存储库](https://repo.maven.apache.org/maven2/com/adobe/aem/uber-jar/6.5.22/)获取。<!-- CHECK FOR UPDATE EACH NEW RELEASE -->

要在 Maven 项目中使用 UberJar，请参阅[如何使用 UberJar](/help/sites-developing/ht-projects-maven.md)，并在项目 POM 中包含以下依赖项：<!-- CHECK FOR UPDATE EACH NEW RELEASE -->

```shell
  <dependency>
  <groupId>com.adobe.aem</groupId>
  <artifactId>uber-jar</artifactId>
  <version>6.5.22</version>
  <scope>provided</scope>          
  </dependency>
```

>[!NOTE]
>
>UberJar 和其他相关工件现已发布在 Maven Central 存储库，而非 Adobe 公共 Maven 存储库（`repo.adobe.com`）。主 UberJar 文件已重命名为 `uber-jar-<version>.jar`。因此，在 `dependency` 标记中不再包含以 `apis` 为值的 `classifier`。


## 已弃用和已移除的功能{#removed-deprecated-features}

请参阅[已弃用和已移除的功能](/help/release-notes/deprecated-removed-features.md/)。

## 已知问题{#known-issues}

<!-- THESE KNOWN ISSUES CARRY OVER EACH RELEASE. THE "PRODUCT UPDATES TEAM" IS SUPPOSED TO VERIFY EACH ISSUE AND LET YOU KNOW IF ANYTHING NEEDS TO BE ADDED, DELETED, OR CHANGED IN THIS LIST.-->

<!-- * **Page publishing not working in Page Editor after upgrading to Service Pack 18 (6.5.18.0)** -->

<!-- https://jira.corp.adobe.com/browse/SITES-15856 REMOVE FOR 6.5.19.0 -->
<!-- After you upgrade an instance of AEM 6.5.0.0&mdash;6.5.17.0 to AEM 6.5.19.0, when you click **Publish Page** inside the Page Editor, you are redirected to a URL that does not exist.

  To work around this issue, do one of the following:

  * Remove the following "path" property.

       `/libs/wcm/core/content/editor/jcr:content/content/items/content/header/items/headerbar/items/pageinfopopover/items/list/items/publish/granite:data`

  * Paste the correct URL directly into the browser.

       `http://localhost:4504/editor.html/libs/wcm/core/content/sites/publishpagewizard.html?item=/content/we-retail/language-masters/en/about-us.html` -->

* **AEM 6.5.21-6.5.23 和 AEM 6.5 LTS GA 中的 JSP 脚本包问题**
AEM 6.5.21、6.5.22、6.5.23 和 AEM 6.5 LTS GA 随附的 `org.apache.sling.scripting.jsp:2.6.0` 捆绑包存在已知问题。此问题经常在 AEM 实例处理许多并发请求而导致高负载的情况下发生。

  当出现此问题时，错误日志中可能会出现以下异常之一，并会引用 `org.apache.sling.scripting.jsp:2.6.0`：

   * `java.io.IOException: classFile.delete() failed`
   * `java.io.IOException: tmpFile.renameTo(classFile) failed`
   * `java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0`
   * `java.io.FileNotFoundException`

  出现该错误后，唯一的恢复方法是重启 AEM 实例。

  请联系 Adobe 客户支持，并引用本发行说明以获取解决方案。

* **与 Oak 相关**
自服务包 13 起及更高版本中，开始出现以下错误日志，从而影响持久化缓存：

  ```shell
  org.h2.mvstore.MVStoreException: The write format 1 is smaller than the supported format 2 [2.0.202/5]
  at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
      at org.h2.mvstore.MVStore.getUnsupportedWriteFormatException(MVStore.java:1059)
      at org.h2.mvstore.MVStore.readStoreHeader(MVStore.java:878)
      at org.h2.mvstore.MVStore.<init>(MVStore.java:455)
      at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4052)
      at org.h2.mvstore.db.Store.<init>(Store.java:129)
  ```

  或者

  ```shell
  org.h2.mvstore.MVStoreException: The write format 1 is smaller than the supported format 2 [2.1.214/5].
  ```

  要解决此异常，请执行以下操作：

   1. 从 `crx-quickstart/repository/` 中删除以下两个文件夹

      * `cache`
      * `diff-cache`

   1. 安装服务包，或重新启动 Experience Manager as a Cloud Service。
新的 `cache` 和 `diff-cache` 文件夹会自动创建，并且不会再在 `error.log` 中遇到与 `mvstore` 相关的异常。

* 请将可能使用了自定义 API 名称的 GraphQL 查询更新为使用内容模型的默认名称。

* GraphQL 查询可能会使用 `damAssetLucene` 索引，而不是 `fragments` 索引。此操作可能导致 GraphQL 查询失败或运行时间过长。

  要解决该问题，必须在 `/indexRules/dam:Asset/properties` 下配置 `damAssetLucene`，以添加以下两个属性：

   * `contentFragment`
      * `jcr:primaryType="nt:unstructured"`
      * `name="jcr:content/contentFragment"`
      * `propertyIndex="{Boolean}true"`
      * `type="Boolean"`
   * `model`
      * `jcr:primaryType="nt:unstructured"`
      * `name="jcr:content/data/cq:model"`
      * `ordered="{Boolean}true"`
      * `propertyIndex="{Boolean}true"`
      * `type="String"`

  在修改索引定义后，需要重新索引（`reindex` = `true`）。

  完成以上步骤后，GraphQL 查询的性能应会提升。

* 在尝试移动、删除或发布内容片段、网站或页面时，获取内容片段引用时会出现问题。后台查询失败。也就是说，该功能无法正常工作。
为确保该功能正常运行，必须将以下属性添加到索引定义节点 `/oak:index/damAssetLucene`（无需重新索引）：

  ```xml
  "tags": [
      "visualSimilaritySearch"
    ]
  "refresh": true
  ```

* 如果您在 Java™ 11 上将 [!DNL Experience Manager] 实例从 6.5.0 – 6.5.4 升级到最新的服务包，可能会在 `error.log` 文件中看到 `RRD4JReporter` 异常。要停止这些异常，请重新启动 [!DNL Experience Manager] 实例。<!-- THIS BULLET POINT WAS UPDATED AS PER CQDOC-20021, JANUARY 23, 2023 -->

* 用户可以在 [!DNL Assets] 的层级中重命名文件夹，并将嵌套文件夹发布到 [!DNL Brand Portal]。但是，在 [!DNL Brand Portal] 中，文件夹标题不会更新，直到重新发布根文件夹。

* 在安装 [!DNL Experience Manager] 6.5.x.x 期间，可能会显示以下错误和警告消息：
   * 当在 [!DNL Experience Manager] 中使用 Target Standard API（IMS 身份验证）配置 Adobe Target 集成时，将体验片段导出到 Target 会导致创建错误的产品建议类型。在 Target 中，系统不会创建类型为“Experience Fragment”/来源为“Adobe Experience Manager”的产品建议，而是会创建多个类型为“HTML”/来源为“Adobe Target Classic”的产品建议。
   * `com.adobe.granite.maintenance.impl.TaskScheduler`：未在 `granite/operations/maintenance` 找到维护窗口。
   * 当在自适应表单中使用 SUM、MAX 和 MIN 等聚合函数时，服务器端验证失败（CQ-4274424）。
   * `com.adobe.granite.maintenance.impl.TaskScheduler`：未在 `granite/operations/maintenance` 找到维护窗口。
   * 通过 Shoppable Banner 查看器预览资产时，Dynamic Media 交互式图像中的热点不可见。
   * `com.adobe.cq.social.cq-social-jcr-provider bundle com.adobe.cq.social.cq-social-jcr-provider:1.3.5 (395)[com.adobe.cq.social.provider.jcr.impl.SpiSocialJcrResourceProviderImpl(2302)]`：等待完成取消注册的注册变更时超时。

* 从 AEM 6.5.15 开始，由 ```org.apache.servicemix.bundles.rhino``` 捆绑包提供的 Rhino JavaScript 引擎引入了新的提升行为。使用严格模式（```use strict;```）的脚本必须声明正确的变量。否则脚本将无法运行，并会抛出运行时错误。

* 通过官方更新包安装与标记相关的开箱即用内容时，`/content/cq:tags` 节点的语言属性会被重置为默认值。此操作适用于服务包、安全服务包、扩展功能包、累积功能包、补丁等。因此，在安装之前必须从属性中手动添加该项。

### AEM Sites 已知问题 {#known-issues-aem-sites-6522}

* 内容片段预览在处理大型片段树时因 DoS 防护而失败。请参阅[关于默认 GraphQL 查询执行器配置选项的知识库文章](https://experienceleague.adobe.com/zh-hans/docs/experience-cloud-kcs/kbarticles/ka-23945)（SITES-17934）


### AEM Forms 已知问题 {#known-issues-aem-forms-6522}

* 如果在 SUSE® Linux®（SLES 15 SP6 及更高版本）服务器上进行 HTML 转 PDF 转化时失败，并出现以下错误：

  ```Auto configuration failed 4143511872:error:0E079065:configuration file routines:DEF_LOAD_BIO:missing equal sign:conf_def.c:362:line 57```
请设置以下环境变量并重新启动服务器：
  `OPENSSL_CONF=/etc/ssl`

* 在安装 AEM Forms JEE 服务包 21（6.5.21.0）后，如果您在 `<AEM_Forms_Installation>/lib/caching/lib` 文件夹下发现 Geode jar 的重复条目 `(geode-*-1.15.1.jar and geode-*-1.15.1.2.jar)`（FORMS-14926），请执行以下步骤以解决该问题：

   1. 如果定位器正在运行，请先停止定位器。
   1. 停止 AEM 服务器。
   1. 进入 `<AEM_Forms_Installation>/lib/caching/lib`。
   1. 移除所有 Geode 补丁文件，仅保留 `geode-*-1.15.1.2.jar`。确认仅存在 `version 1.15.1.2` 的 Geode jar。
   1. 以管理员模式打开命令提示符。
   1. 使用 `geode-*-1.15.1.2.jar` 文件安装 Geode 补丁。

* 如果用户尝试使用已保存的 XML 数据预览草稿信件，某些特定信件会卡在 `Loading` 状态。要下载并安装热修复补丁，请参阅 [Adobe Experience Manager Forms 热修复补丁](/help/release-notes/aem-forms-hotfix.md#hotfix-for-adaptive-forms)文章。（FORMS-14521）

* 在升级到 AEM Forms 服务包 6.5.21.0 后，`PaperCapture` 服务无法对 PDF 执行 OCR（光学字符识别）操作。该服务不会生成 PDF 输出文件或日志文件。要下载并安装热修复补丁，请参阅 [Adobe Experience Manager Forms 热修复补丁](/help/release-notes/aem-forms-hotfix.md#hotfix-for-adaptive-forms)文章。（CQDOC-21680）

* 当用户从 AEM 6.5 Forms 服务包 18 或 19 升级到服务包 20 或 21 时，会遇到 JSP 编译错误。该错误会导致无法打开或创建自适应表单。它也会影响其他 AEM 界面。这些界面包括页面编辑器、AEM Forms UI、工作流编辑器和系统概览 UI。（FORMS-15256）

  如果遇到此类问题，请执行以下步骤进行解决：
   1. 进入 CRXDE 中的目录 `/libs/fd/aemforms/install/`。
   1. 删除名为 `com.adobe.granite.ui.commons-5.10.26.jar` 的捆绑包。
   1. 重新启动 AEM 服务器。

* 更新至带有 Forms 附加组件的 AEM Forms 服务包 20（6.5.20.0）后，依赖基于凭据的身份验证的旧版 Adobe Analytics Cloud 服务的配置将停止工作。此问题会导致分析规则无法正确执行。要下载并安装热修复补丁，请参阅 [Adobe Experience Manager Forms 热修复补丁](/help/release-notes/aem-forms-hotfix.md#hotfix-for-adaptive-forms)文章。（FORMS-15428）

* 当用户在 JEE 服务器上更新至 AEM Forms 服务包 20（6.5.20.0），并使用输出服务生成 PDF 时，生成的 PDF 会出现可访问性问题。要下载并安装热修复补丁，请参阅 [Adobe Experience Manager Forms 热修复补丁](/help/release-notes/aem-forms-hotfix.md#hotfix-for-adaptive-forms)文章。（LC-3922112）
* 当用户在 JEE 上使用输出服务生成带标记的 PDF 时，会显示“结构不当警告”。要下载并安装热修复补丁，请参阅 [Adobe Experience Manager Forms 热修复补丁](/help/release-notes/aem-forms-hotfix.md#hotfix-for-adaptive-forms)文章。（LC-3922038）
* 当在 AEM Forms JEE 上提交表单时，数据中的重复 XML 元素实例会被移除。要下载并安装热修复补丁，请参阅 [Adobe Experience Manager Forms 热修复补丁](/help/release-notes/aem-forms-hotfix.md#hotfix-for-adaptive-forms)文章。（LC-3922017）
* 当用户在 Linux® 环境中以 HTML 形式渲染自适应表单（运行于 JEE）时，表单无法正常渲染。要下载并安装热修复补丁，请参阅 [Adobe Experience Manager Forms 热修复补丁](/help/release-notes/aem-forms-hotfix.md#hotfix-for-adaptive-forms)文章。（LC-3921957）
* 当用户在 AEM Forms JEE 上使用输出服务将 XTG 文件转化为 PostScript 格式时，转化失败并出现以下错误：`AEM_OUT_001_003: Unexpected Exception: PAExecute Failure: XFA_RENDER_FAILURE`。要下载并安装热修复补丁，请参阅 [Adobe Experience Manager Forms 热修复补丁](/help/release-notes/aem-forms-hotfix.md#hotfix-for-adaptive-forms)文章。（LC-3921720）
* 在 JEE 服务器上升级到 AEM Forms 服务包 18（6.5.18.0）后，当用户提交表单时，无法渲染 HTML5 或 PDF Forms，并且 XMLFM 会崩溃。要下载并安装热修复补丁，请参阅 [Adobe Experience Manager Forms 热修复补丁](/help/release-notes/aem-forms-hotfix.md#hotfix-for-adaptive-forms)文章。（LC-3921718）
* 在交互式通信代理 UI 的打印预览中，货币符号（如美元符号 $）在各字段值中的显示不一致。对于不超过 999 的数值会显示符号，但对于 1000 及以上的数值则缺少符号。（FORMS-16557）
* 在交互式通信中，对嵌套布局片段的 XDP 所做的任何修改都不会反映在 IC 编辑器中。（FORMS-16575）
* 在交互式通信代理 UI 的打印预览中，部分计算值未正确显示。（FORMS-16603）
* 在“打印预览”中查看信件时，内容发生变化。具体表现为：部分空格消失，某些字母被替换为 “x”。（FORMS-15681）
* 当用户配置 WebLogic 14c 实例时，在 JBoss® 上运行的 JEE 环境中的 AEM Forms 服务包 21（6.5.21.0）内，PDFG 服务因涉及 SLF4J 库的类加载器出现冲突而失败。错误显示如下（CQDOC-22178）：

  ```java
  Caused by: java.lang.LinkageError: loader constraint violation: when resolving method "org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;"
  the class loader org.ungoverned.moduleloader.ModuleClassLoader @404a2f79 (instance of org.ungoverned.moduleloader.ModuleClassLoader, child of 'deployment.adobe-livecycle-jboss.ear'
  @7e313f80 org.jboss.modules.ModuleClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader 'org.slf4j.impl@1.1.0.Final-redhat-00001' @506ab52
  (instance of org.jboss.modules.ModuleClassLoader, child of 'app' jdk.internal.loader.ClassLoaders$AppClassLoader) for the method's defining class, org/slf4j/impl/StaticLoggerBinder,
  have different Class objects for the type org/slf4j/ILoggerFactory used in the signature
  ```

## 已包含的 OSGi 捆绑包和内容包{#osgi-bundles-and-content-packages-included}

以下文本文档列出了此 [!DNL Experience Manager] 6.5 服务包版本中包含的 OSGi 捆绑包和内容包：

* [Experience Manager 6.5.22.0](/help/release-notes/assets/65220-bundles.txt) 中包含的 OSGi 捆绑包列表 <!-- UPDATE FOR EACH NEW RELEASE -->
* [Experience Manager 6.5.22.0](/help/release-notes/assets/65220-packages.txt) 中包含的内容包列表 <!-- UPDATE FOR EACH NEW RELEASE -->

## 受限网站{#restricted-sites}

这些网站仅向客户开放。如果您已是客户并需要访问权限，请联系您的 Adobe 客户经理。

* [在 licensing.adobe.com 下载产品](https://licensing.adobe.com/)
* [联系 Adobe 客户支持](https://experienceleague.adobe.com/zh-hans/docs/customer-one/using/home)。

>[!MORELIKETHIS]
>
>* [[!DNL Experience Manager] 产品页面](https://business.adobe.com/cn/products/experience-manager/adobe-experience-manager.html)
>* [[!DNL Experience Manager] 6.5 文档](https://experienceleague.adobe.com/zh-hans/docs/experience-manager-65)
>* [订阅 Adobe 产品更新早知道](https://www.adobe.com/subscription/priority-product-update.html)
