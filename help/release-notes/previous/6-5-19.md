---
title: ' [!DNL Adobe Experience Manager] 6.5 发行说明'
description: 查找 [!DNL Adobe Experience Manager] 6.5 的版本信息、新增功能、安装操作方法和详细更改列表。
mini-toc-levels: 4
exl-id: cac14ac1-9cda-46ae-8aa3-94674bb79157
solution: Experience Manager
feature: Release Information
role: User,Admin,Architect,Developer
source-git-commit: 93df58f495781823039ab9d2aef1a16f56f320fd
workflow-type: ht
source-wordcount: '4664'
ht-degree: 100%

---

# [!DNL Adobe Experience Manager] 6.5.19.0  {#aem-service-pack-release-notes}

<!-- For an itemized list of all issues found in these release notes, see the following spreadsheet: https://adobe-my.sharepoint.com/:x:/r/personal/anujkapo_adobe_com/_layouts/15/Doc.aspx?sourcedoc=%7B3ea81ae4-e605-4153-b132-f2698c86f84e%7D&action=edit&wdinitialsession=d8c7b903-87fc-4f2d-9ef2-542a82169570&wdrldsc=3&wdrldc=1&wdrldr=SessionMemoryQuotaExceededDuringSession -->

<!-- DO NOT DELETE THIS HIDDEN NOTE      DO NOT DELETE THIS HIDDEN NOTE
>[!NOTE]
>
>Fixes in [!DNL Experience Manager] Forms are delivered through a separate add-on package one week after the scheduled [!DNL Experience Manager] Service Pack release date. In this case, the add-on packages release Thursday, November 30, 2023. In addition, a list of Forms fixes and enhancements is added to this section. -->

## 发行版本信息 {#release-information}

| 产品 | [!DNL Adobe Experience Manager] 6.5 |
| -------- | ---------------------------- |
| 版本号 | 6.5.19.0 <!-- UPDATE FOR EACH NEW RELEASE --> |
| 类型 | 服务包发行 |
| 日期 | 2023 年 12 月 7 日星期四 <!-- UPDATE FOR EACH NEW RELEASE --> |
| 下载 URL | [软件分发](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/servicepack/aem-service-pkg-6.5.19.0.zip) <!-- UPDATE FOR EACH NEW RELEASE --> |

## [!DNL Experience Manager] 6.5.19.0 的内容 {#what-is-included-in-aem-6519}

自 2019 年 4 月 6.5 首次发布以来，[!DNL Experience Manager] 6.5.19.0 陆续发布了新增功能、客户重点请求的增强功能、错误修复，以及在性能、稳定性与安全性方面的改进。[在 [!DNL Experience Manager] 6.5 上安装此服务包](#install)。

<!-- UPDATE FOR EACH NEW RELEASE -->

<!-- Some of the key features and improvements are the following:

* _REVIEWERS: WHAT ARE THE KEY FEATURES AND ENHANCEMENTS YOU WANT TO HIGHLIGHT IN THIS RELEASE?_ -->

## 主要功能和增强功能

本次版本中的部分主要功能和增强功能包括：

* 在 Sites 页面编辑器/图像组件中，用户现已可以引用来自远程 Assets 云服务的资产。（SITES-13448、SITES-13433）
* AEM 现已支持服务器端排序，在列表视图中可更快速地导航项目。项目节点会根据用户选择的列在显示到界面前完成排序。

### [!DNL Forms]

* **新的自适应表单核心组件**：新增了纵向选项卡、条款与条件以及复选框，以增强表单的可扩展性。
   * **[复选框组件](https://experienceleague.adobe.com/docs/experience-manager-core-components/using/adaptive-forms/adaptive-forms-components/checkbox.html)**：基于核心组件的自适应表单现在包含复选框组件。通过它，用户可二选一，即选择或取消选择特定选项。它一般显示为一个小框，单击或点按它即可在选中和取消选中两种状态之间切换。复选框是一个常见的表单元素，用于提供是/否或真/假选择。

   * **[条款和条件组件](https://experienceleague.adobe.com/docs/experience-manager-core-components/using/adaptive-forms/adaptive-forms-components/terms-and-conditions.html)**：基于核心组件的自适应表单现在包含条款和条件组件。通过它，Forms 作者可在表单中引入一个特定的部分，其中为用户展示与使用服务、产品或平台相关的条款、条件或法律协议。此组件旨在通知用户其提交表单即表示同意的规则、法规和义务。

     ![纵向选项卡、条款与条件及复选框组件](/help/forms/using/assets/forms-components.png)

   * **[纵向选项卡组件](https://experienceleague.adobe.com/docs/experience-manager-core-components/using/adaptive-forms/adaptive-forms-components/vertical-tabs.html)**：基于核心组件的自适应表单现在可将表单内容整理到选项卡垂直列表中，从而提供结构化的、可导航的布局。在表单中使用纵向选项卡可通过简化导航并改进表单内容的组织而增强整体用户体验，特别是在表单包含多个部分或复杂信息的情况下。

* **[AEM Forms Designer 64 位版本](/help/forms/using/installing-configuring-designer.md)**：AEM Forms Designer 的 64 位版本带来更佳的性能、可扩展性和内存管理，以全面提升表单创建体验。利用 64 位架构，您可以轻松处理更大、更复杂的项目，确保无缝的设计工作流和优化的效率。利用此最新版本，提升您的表单设计能力并迎接 AEM Forms Designer 的未来。

* **[将自适应表单连接至 Microsoft® SharePoint 列表](/help/forms/using/configuring-submit-actions.md#submit-to-microsoft&reg;-sharepoint-list)**：AEM Forms 提供开箱即用的集成功能，可将表单数据直接提交至 SharePoint 列表，从而利用 SharePoint 的列表功能。您可以将 Microsoft® SharePoint 列表配置为表单数据模型的数据源，并使用“通过表单数据模型提交”操作将自适应表单与 SharePoint 列表相连接。

* **[支持为自适应表单片段配置记录文档属性](/help/forms/using/generate-document-of-record-for-non-xfa-based-adaptive-forms.md)**：现在，您可以在自适应表单编辑器中轻松自定义自适应表单片段及其字段。

* **64 位 XMLFM**：64 位版本的 XMLFM 提供更高的性能、可扩展性和优化的内存管理。这是首个在服务器端部署的原生 64 位服务。借助其相比于 32 位版本更强大的内存资源访问能力，64 位 XMLFM 能够无缝处理更大规模的渲染工作负载。这一里程碑不仅代表着性能的飞跃，同时还为 AEM Forms 服务器内的原生服务框架引入了关键增强功能。通过此次更新，AEM Forms 服务器已能够无缝支持任意 64 位原生服务。


<!-- UPDATE BELOW FOR EACH NEW RELEASE -->

## 服务包 19 中已修复的问题 {#fixed-issues}

### [!DNL Sites]{#sites-6519}

#### 辅助功能{#sites-accessibility-6519}

* 在 AEM Sites 页面上，将页面放大至 200% 时，“参考”边栏中的&#x200B;**[!UICONTROL 语言副本]**&#x200B;和 **[!UICONTROL CSV 报告]**&#x200B;链接会消失。（SITES-11011）

#### 管理用户界面{#sites-adminui-6519}

* AEM Screens 渠道的&#x200B;**[!UICONTROL 预览]**&#x200B;功能在仪表板上无法使用或无法显示。（SITES-15730）
* 在执行页面移动操作时，若用户界面无法显示引用却提示这些引用会自动重新发布，但实际&#x200B;*并未*&#x200B;重新发布。（SITES-16435）
* 在安装了服务包 16 或 17 的 AEM 6.5 中，Sites 的列表视图启用“工作流”列后，无法根据该列中的项目对列表进行排序。不会发生任何排序。（SITES-15385）
* 对于重定向页面模板，重定向字段已设为必填。然而，在以下两种情况下，必填字段的验证既未应用也未生效：当创建页面时未设置强制重定向值；无法创建重定向页面。在使用键盘快捷键导航时，校验同样无效；即便字段被标记为无效，也无法继续。（SITES-15903）
* 部分&#x200B;**传入链接**&#x200B;未被纳入&#x200B;**引用**&#x200B;面板的显示计数中。例如，面板会显示&#x200B;**传入链接（6）**，但实际应为 9 条传入链接。（SITES-14816）

#### 经典 UI{#sites-classicui-6519}

* 在安装 SITES-15827 热修复补丁后，单词间带有空格的对话框标题会被替换为 `" "`。换行符也会被移除。（SITES-16089）
* 对话框标题经过编码后，会导致标题被重复编码。（SITES-15841）
* 将 AEM 服务器从服务包 6.5.16 升级到 6.5.17 后，经典 UI 对话框标题出现了重复编码。（SITES-15634）

#### [!DNL Content Fragments]{#sites-contentfragments-6519}

* 在内容片段编辑器中会显示“内部服务器错误”消息。（SITES-13550）
* 通过 NPR-41291 更新 `org.json` 库后，`cfm-impl` 捆绑包中的 `DefaultDataTypeConverter` 出现数据转化错误。数据类型转化需要更具灵活性。（SITES-16473）
* 出现错误弹窗消息：“此内容片段版本无法与当前版本进行比较，因为内容不兼容。”内容片段本应可比较，但事实并非如此。（SITES-16317）
* 资产选择器的 JS URL 已从
  `https://experience.adobe.com/solutions/CQ-assets-selectors/assets/resources/assets-selectors.js`
更改至
  `https://experience.adobe.com/solutions/CQ-assets-selectors/static-assets/resources/assets-selectors.js`（SITES-16068）
* 针对 CFM-Polaris 集成，已适配新的 Polaris 元数据 API 响应架构。（SITES-15166）
* 在引用所选内容片段的地方，应列出所有内容片段。但在内容片段引用面板中，资产引用显示为 0（零）个引用。（SITES-15036）

#### 核心后端{#sites-core-backend-6519}

* 改进 `StyleImpl`。（SITES-15164）
* 改进 WCM 管道的 release/650 分支，使其能够运行其模块的集成测试。（SITES-12938）

<!--#### Core Components{#sites-core-components-6519}

* A -->

#### 营销活动集成{#sites-campaign-integration-6519}

* 在签名组件（`/apps/fpl/components/campaign/signature`）中，链接外化器无法正常工作。当移除图像标记上方的 HTML 注释时，域名不会追加到图像源中。该问题仅在生产环境的签名组件中出现，暂存环境未受影响。（SITES-16120）

<!--#### Experience Fragments{#sites-experiencefragments-6519}

* A -->

#### 基础组件（旧版）{#sites-foundation-components-legacy-6519}

* Adobe Experience Manager（AEM）Sites 搜索组件导致用户界面异常。（SITES-15087）

#### GraphQL 查询编辑器{#sites-graphql-query-editor-6519}

* 当持久化查询数量较多（例如超过 25 个）时，GraphQL 编辑器界面无法滚动浏览所有持久化查询。（SITES-16008）
* GraphQL 编辑器未保存持久化查询的发布状态。在 GraphQL 编辑器中会显示“取消发布”按钮，但表示持久化查询已发布的图标并未出现。刷新页面后显示，该持久化查询根本没有发布。（SITES-15858）

#### 发布项{#sites-launches-6519}

* 当同时编辑多个页面或创建内容时，由于 `Oak0001` 冲突，存储库中的更改未能保存。在此类情况下应正常触发重试，但实际并未执行。（SITES-14840）

#### MSM - Live Copy {#sites-msm-live-copies-6519}

* 在触控图形用户界面中，MSM 转出按钮无法使用。（SITES-16991）
* 在创建体验片段的 Live Copy 或执行转出时，体验片段中的链接引用不会更新。（SITES-15460）

#### 页面编辑器{#sites-pageeditor-6519}

* 在 Forms > 主题中，若在主题编辑器中打开某个主题并进行修改后保存，再点击“预览”，会显示加载图标，但实际预览无法加载。（SITES-17164）
* 在页面控制台中，资产类型筛选器无法选择多个文档文件类型。即便某个文件类型有结果，也找不到任何结果。结果导致作者无法同时筛选多个文档。他们必须逐一按不同文件类型进行筛选。（SITES-14047）
* 将实例从 AEM 6.5.17 或 AEM 6.5.18 升级后，在页面编辑器中选择&#x200B;**[!UICONTROL 发布页面]**&#x200B;时，会跳转到一个不存在的 URL。用户应被正确重定向至发布向导。（SITES-15856）
* 当从操作系统剪贴板粘贴内容时，AEM 剪贴板会生成冗余副本。（SITES-15704）
* 在 Assets 中选择&#x200B;**[!UICONTROL 文档]**，然后在&#x200B;**[!UICONTROL 文件类型]**&#x200B;下选择 **[!UICONTROL Microsoft® Word]** 或 **[!UICONTROL Microsoft® Excel]** 时，即便这两类文件存在，也不显示任何结果。（SITES-14837）

### [!DNL Assets]{#assets-6519}

* 在创建或保存公共文件夹时，管理员仪表板中会生成三个用户组。（ASSETS-26700）
* 无法区分资产是发布到 Experience Manager 还是 Brand Portal。（NPR-41320）
* 在搜索面板中，在选择多个复选框后，若取消勾选其中一个，所有复选框都会被取消。（ASSETS-26377）

#### [!DNL Dynamic Media]{#assets-dm-6519}

* 将资产上传至 AEM 后，会触发 `update_asset` 工作流。该工作流无法完成。在工作流实例中显示，工作流停留在产品上传步骤。下一步应为 Scene7 批量上传。用户可在 Dynamic Media Classic 应用程序中看到该资产已存在于 Scene7 中。（ASSETS-30443）
* 自定义 Servlet（API 端点）返回了错误的 Dynamic Media（Scene7）文件名。当某个资产被删除并用具有相同文件名的资产替换时会出现这种情况。自定义 Servlet 会返回旧的 Dynamic Media（Scene7）文件名，而 “jcr” API 调用会返回正确的文件名。（ASSETS-29476）
* 即使在文件夹层级关闭了同步，日志中仍显示触发了 &quot;Scene7 ReplicateOnModifyListener&quot;。`ReplicateOnModifyListener/Worker` 应跳过对非 Dynamic Media 文件夹资产和内容片段的处理。（ASSETS-26705）
* 在高对比度黑白模式下，如果下拉元素（仅内容、视图、更多选项）中焦点不可见，会对视力低下的用户造成影响。（ASSETS-25759）
* 当页面中文本的亮度对比度低于 4.5:1 时，会对视力低下的用户造成影响。（ASSETS-25756）
* 提交数据后，屏幕阅读器不会朗读显示的弹出消息。（ASSETS-25755）
* 在页面中（Dynamic Media；创建视频编码轮廓），使用地标/区域快捷键 `D/R` 导航时，屏幕阅读器无法识别地标。（ASSETS-25752）
* 在页面中（Dynamic Media；创建交互式视频），使用地标/区域快捷键 `D/R` 导航时，屏幕阅读器无法识别多个地标。（ASSETS-25750）
* 在&#x200B;**编辑资产**&#x200B;页面中，使用快捷键 `D/R` 导航时，屏幕阅读器（NVDA/JAWS/Narrator）无法识别地标。（ASSETS-25744）
* 用户会收到空的/错误的异步作业消息，但连接的资产实际上已成功发布。（ASSETS-29342）

### [!DNL Forms]{#forms-6519}

#### [!DNL Adaptive Forms]

<!-- Fixes in [!DNL Experience Manager] Forms are delivered through a separate add-on package one week after the scheduled [!DNL Experience Manager] Service Pack release date. In this case, the AEM 6.5.19.0 Forms add-on package release is scheduled for Thursday, November 30, 2023. A list of Forms fixes and enhancements would be added to this section post the release.-->

<!--* Adding Access Control List for `fd-cloudservice` user to be able to read or update the Microsoft&reg; configurations under `cloudconfigs/microsoftoffice`. (FORMS-11142) -->

<!--LEFT BULLET LIST HERE IN CASE OF REUSE BY FORMS IN THE FUTURE 
* **Document Services**
  * text
* **Adaptive Forms** 
  * text
* **Accessibility**
  * text
* **Interactive Communications**
  * text -->

<!--### Commerce{#commerce-6519}

* A -->

* 当用户向自适应表单添加工具栏时，表单容器标签表现异常，因为它不会切换为作者在 Forms 中选择的首选语言。（FORMS-11371）
* 在 AEM Forms 工作区中，下拉字段在用户界面上默认选中第一个选项。（FORMS-11346）
* 如果使用包含五个字符的区域设置，AEM 中的语言配置不会受到影响，但在信件中小数点分隔符无法正确呈现。（FORMS-11344）
* 当用户使用工作台流程生成 XML 输出时，部分文件会生成失败。（FORMS-11314）
* 当用户为非英语语言生成记录文档的预览时，该功能不起作用。（FORMS-11106）
* 当用户在基于 Linux® 且运行 JDK11 的 OSGi 实例上使用 PDFG 转化部分图像文件时，转化失败。（FORMS-11105）
* 当用户安装 AEM Forms 附加组件时，会导致 AEM Sites 中的内容树面板出现问题。（FORMS-10912）
* 当用户使用 NVDA 屏幕阅读器从日期选择器组件复制日期时，无法正确朗读。（FORMS-10805） 
* 在 Forms 规则编辑器中，当数据值类型为布尔值时，用户无法为单选按钮/复选框设置值。（FORMS-10713）
* 当用户在自适应表单中添加条目时，这些条目会以相反顺序出现在下拉列表中。（FORMS-10456）
* 使用规则编辑器清空下拉列表时，即使已清除，首个预设值仍然会显示。（FORMS-9963） 
* 用户无法通过 NVDA 等屏幕阅读器访问表单标题。（FORMS-8815） 
* 用户无法通过 NVDA 等屏幕阅读器访问表单中的 `Sub Title`。（FORMS-8814） 
* 在 HTML 表单的页面源代码中，access key 属性为空，且无法正常使用。（FORMS-5753） 
* 在“关于工作区”对话框中，“Adobe Experience Manager – Forms” 以文本的形式显示。（FORMS-5748）


#### [!DNL Forms Designer]{#forms-designer-6519}

* 当用户尝试通过屏幕阅读器阅读非交互式 PDF Forms 时，部分列表项未被朗读或被跳过。（LC-3921645） 
* 当用户使用 Tab 键遍历可编辑字段时，无法一致地遍历所有 PDF Forms 字段。（LC-3921631） 
* 即使在 Forms Designer 中标记正确，PDF 中的标记顺序仍会随机更改。（LC-3921313） 
* 在 Adobe Acrobat Reader 或 Adobe Acrobat DC 中，标记内的列表未正确显示。（LC-3921306）
* 在 Forms Designer 中正确分配的标题级别，在 Adobe Acrobat 中会随机更改为 `<P>` 标记。（LC-3921305） 
* 在表格中，任何对象的 ID 一旦被分配，就无法修改。（LC-3921134） 
* 如果表格中存在合并单元格，则在 AEM Forms Designer 中将无法通过 GUI 设置复杂表格的跨度（行和列）及作用范围。（LC-3919532）
* 在 AEM Forms 服务包 6.5.15.0 上安装 Forms 附加组件包后，用户尝试生成 PDF 文档时会间歇性失败，并显示以下错误：
   * `OutputServiceException AEM_OUT_001_003:Unexpected Exception: 0 Out of Memory Caused by: org.omg.CORBA.COMM_FAILURE: null`（LC-3921530）

### 基础{#foundation-6519}

* 在语言根级别创建语言副本时，页面路径不会自动调整。在为根目录下的页面创建语言副本时，路径则能正确更改。（NPR-41364）
* “相对日期显示”工具提示只能通过键盘上的 ESC 键关闭。工具提示应当在用户选择用户界面任意部分时关闭。（NPR-41394）
* 在&#x200B;**编辑用户** > **密钥库**&#x200B;中添加错误的私钥文件时，会出现未本地化的字符串 `Something went wrong while adding the private key.`。（NPR-41366）
* 在 AEM 6.5 环境中需要为 Microsoft® SharePoint 和 Microsoft® One Drive 提供图标。（NPR-41354）
* 在&#x200B;**安全性** > **用户** > **创建**&#x200B;对话框中出现未本地化的字符串 &quot;UserId/Password mismatch&quot;。（NPR-41245）
* 弹出框代码和事件处理程序重复加载，导致用户创建的基于 Coral3 的用户界面异常。（NPR-41171）
* 在 AEM Sites 控制台中使用“全选”后，取消选择功能无法正常工作。（NPR-41304）

<!--#### Content distribution{#foundation-content-distribution-6519}

* T -->

#### 集成{#integrations-6519}

* 在 AEM 电子邮件营销活动中，SMS 链接编写不正确，其中包含了 HTML 锚点元素。（NPR-41211）
* 帐户配置界面中使用的措辞不应使用新的凭据类型。（NPR-41210）
* 将 Analytics 报告导入调度程序从 `ManagedPollConfig` 迁移至 Sling 作业。当两个不同的 Analytics 框架分别绑定到两个不同网站并使用不同的报表集时，`ManagedPollConfig` 仅会轮询其中一个。（NPR-41209）
* 当值被重置为默认值时，之前选择的时间范围按钮仍会保持启用状态。在 AEM 内容洞察仪表板中，默认时间范围为“周”，并以周为单位显示内容洞察数据。现在，如果用户选择其他时间范围选项（如小时、天、月或年），则数据会根据所选的值而变化。但当重置这些值时，虽然可见的时间范围是“周”，但先前选择的时间范围选项依旧处于选中状态。（NPR-41246）

#### Oak{#oak-6519}

* 回移实用工具，用于在异步索引延迟时对写入 AEM 的操作进行速率限制。（NPR-40985）

#### 平台{#foundation-platform-6519}

* 包含方括号的 QueryBuilder 查询被错误地转化为 xpath。（NPR-41298）

<!--#### Replication{#foundation-replication-6519}

* R -->

<!--#### Sling{#foundation-sling-6519}

* W -->

#### 翻译项目{#foundation-translation-6519}

* 在创建页面 “A” 的语言副本时，应自动创建其引用的页面、体验片段、内容片段和资产的语言副本。此外，对于新路径下新建的页面 “A” 语言副本，其引用应更新为页面、体验片段、内容片段和资产各自新建的语言副本。（NPR-41076）

<!--#### User interface{#foundation-ui-6519}

* A -->

<!--#### WCM{#wcm-6519}

* A -->

#### 工作流{#foundation-workflow-6519}

* 在收件箱中无法完成任务。当尝试完成任务并选择操作时，下拉菜单中仅会显示“未定义”值。这意味着用户无法应用 AEM 6.5.18 服务包。（NPR-41402 和 NPR-41473）
* 在收件箱中无法完成任务。当尝试完成 zip 文件、资产报告、移动（成功或失败）或资产过期等任务时，下拉列表中无可选值（仅显示“未定义”）。（NPR-41305）
* 当用户选择&#x200B;**[!UICONTROL 工具]** > **[!UICONTROL 工作流]** > 实例，然后选择正在运行的工作流，再选择&#x200B;**[!UICONTROL 查看负载]**&#x200B;时，会出现 500 错误页面。（NPR-41325）

## 安装 [!DNL Experience Manager] 6.5.19.0{#install}

<!-- Remaining content from here to bottom stays the same except for version updating as needed as per update team feedback. -->

* [!DNL Experience Manager] 6.5.19.0 需要依赖 [!DNL Experience Manager] 6.5。详细说明请参阅[升级文档](/help/sites-deploying/upgrade.md)。<!-- UPDATE FOR EACH NEW RELEASE -->
* 服务包可从 Adobe [软件分发](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/servicepack/aem-service-pkg-6.5.19.0.zip)下载。
* 在使用 MongoDB 且包含多个实例的部署中，请在其中一个作者实例上使用包管理器安装 [!DNL Experience Manager] 6.5.19.0。<!-- UPDATE FOR EACH NEW RELEASE -->

>[!IMPORTANT]
>
> Adobe 不建议移除或卸载 [!DNL Experience Manager] 6.5.19.0 包。因此，在安装该包之前，您应创建 `crx-repository` 的备份，以便在需要时进行回滚。<!-- UPDATE FOR EACH NEW RELEASE -->
<!-- For instructions to install Service Pack for Experience Manager Forms, see [Experience Manager Forms Service Pack installation instructions](/help/release-notes/aem-forms-current-service-pack-installation-instructions.md). -->


### 在 [!DNL Experience Manager] 6.5 上安装服务包{#install-service-pack}

1. 如果实例处于更新模式（即由早期版本升级而来），请在安装前先重启该实例。如果实例已长时间运行，Adobe 建议先重启。

1. 在安装之前，请为您的 [!DNL Experience Manager] 实例创建快照或执行一次全新的备份。

1. 从[软件分发](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/servicepack/aem-service-pkg-6.5.19.0.zip)下载服务包。<!-- UPDATE FOR EACH NEW RELEASE -->

1. 打开包管理器，然后选择&#x200B;**[!UICONTROL 上传包]**&#x200B;以上传该包。如需了解更多信息，请参阅[包管理器](/help/sites-administering/package-manager.md)。

1. 选择该包，然后选择&#x200B;**[!UICONTROL 安装]**。

1. 要更新 S3 连接器，请在安装服务包后停止实例，用安装文件夹中提供的新二进制文件替换现有连接器，然后重新启动实例。请参阅 [Amazon S3 数据存储](/help/sites-deploying/data-store-config.md#upgrading-to-a-new-version-of-the-s-connector)。

>[!NOTE]
>
>在安装服务包过程中，包管理器 UI 中的对话框有时会意外退出。Adobe 建议您在访问部署之前，先等待错误日志趋于稳定。在确认安装成功之前，请先等待与卸载更新程序包相关的特定日志出现。通常，该问题会在 [!DNL Safari] 浏览器中出现，但也可能会在其他浏览器中间歇出现。

**自动安装**

您可以使用以下两种方法来自动安装 [!DNL Experience Manager] 6.5.19.0。<!-- UPDATE FOR EACH NEW RELEASE -->

* 当服务器在线时，将包放入 `../crx-quickstart/install` 文件夹中。该软件包会自动安装。
* 使用[包管理器的 HTTP API](/help/sites-administering/package-manager.md#package-share)。请使用 `cmd=install&recursive=true` 以便安装嵌套的包。

>[!NOTE]
>
>Experience Manager 6.5.19.0 不支持 Bootstrap 安装。<!-- UPDATE FOR EACH NEW RELEASE -->

**验证安装**

要了解与此版本兼容的已经过认证的平台，请参阅[技术要求](/help/sites-deploying/technical-requirements.md)。

1. 在[!UICONTROL 已安装的产品]下，产品信息页面（`/system/console/productinfo`）会显示更新后的版本字符串 `Adobe Experience Manager (6.5.19.0)`。<!-- UPDATE FOR EACH NEW RELEASE -->

1. 在 OSGi 控制台中，所有 OSGi 捆绑包均应处于&#x200B;**[!UICONTROL 活跃]**&#x200B;或&#x200B;**[!UICONTROL 片段]**&#x200B;状态（使用网页控制台：`/system/console/bundles`）。

1. OSGi 捆绑包 `org.apache.jackrabbit.oak-core` 的版本应为 1.22.17 或更高版本（使用网页控制台：`/system/console/bundles`）。<!-- NPR-41292 for 6.5.19.0 --> <!-- OAK Oak oak VERSION -MAY- NEED TO BE UPDATED FOR EACH NEW RELEASE -->

### 安装 [!DNL Experience Manager] Forms 的服务包{#install-aem-forms-add-on-package}

如需了解在 Experience Manager Forms 上安装服务包的操作说明，请参阅 [Experience Manager Forms 服务包安装说明](/help/release-notes/aem-forms-current-service-pack-installation-instructions.md)。

>[!NOTE]
>
>在 [AEM 6.5 快速入门](https://experienceleague.adobe.com/docs/experience-manager-65/deploying/deploying/deploy.html)中谈及的自适应表单功能旨在仅作探索和评估用途。由于自适应表单功能需要适当的许可，因此必须获得 AEM Forms 的有效许可证才能作生产用途。

### 为 Experience Manager 内容片段安装 GraphQL 索引包{#install-aem-graphql-index-add-on-package}

使用 GraphQL 的客户必须安装[带有 GraphQL 索引包 1.1.1 的 Experience Manager 内容片段](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/featurepack/cfm-graphql-index-def-1.1.1.zip)。

这样做可根据实际使用的功能添加所需的索引定义。

如果未安装该包，可能会导致 GraphQL 查询变慢或失败。

>[!NOTE]
>
>每个实例只需安装一次该包；无需在每次安装服务包时重新安装。

### UberJar{#uber-jar}

适用于 [!DNL Experience Manager] 6.5.19.0 的 UberJar 可在 [Maven Central 存储库](https://repo.maven.apache.org/maven2/com/adobe/aem/uber-jar/6.5.19/)获取。<!-- CHECK FOR UPDATE EACH NEW RELEASE -->

要在 Maven 项目中使用 UberJar，请参阅[如何使用 UberJar](/help/sites-developing/ht-projects-maven.md)，并在项目 POM 中包含以下依赖项：<!-- CHECK FOR UPDATE EACH NEW RELEASE -->

```shell
<dependency>
     <groupId>com.adobe.aem</groupId>
     <artifactId>uber-jar</artifactId>
     <version>6.5.19</version>
     <scope>provided</scope>
</dependency>
```

>[!NOTE]
>
>UberJar 和其他相关工件现已发布在 Maven Central 存储库，而非 Adobe 公共 Maven 存储库（`repo.adobe.com`）。主 UberJar 文件已重命名为 `uber-jar-<version>.jar`。因此，在 `dependency` 标记中不再包含以 `apis` 为值的 `classifier`。

## 已弃用和已移除的功能{#removed-deprecated-features}

请参阅[已弃用和已移除的功能](/help/release-notes/deprecated-removed-features.md/)。

## 已知问题{#known-issues}

<!-- THESE KNOWN ISSUES CARRY OVER EACH RELEASE. THE "PRODUCT UPDATES TEAM" IS SUPPOSED TO VERIFY EACH ISSUE AND LET YOU KNOW IF ANYTHING NEEDS TO BE ADDED, DELETED, OR CHANGED IN THIS LIST.-->

<!-- * **Page publishing not working in Page Editor after upgrading to Service Pack 18 (6.5.18.0)** -->

<!-- https://jira.corp.adobe.com/browse/SITES-15856 REMOVE FOR 6.5.19.0 -->
<!-- After you upgrade an instance of AEM 6.5.0.0&mdash;6.5.17.0 to AEM 6.5.19.0, when you click **Publish Page** inside the Page Editor, you are redirected to a URL that does not exist.

  To work around this issue, do one of the following:

  * Remove the following "path" property.

       `/libs/wcm/core/content/editor/jcr:content/content/items/content/header/items/headerbar/items/pageinfopopover/items/list/items/publish/granite:data`

  * Paste the correct URL directly into the browser.

       `http://localhost:4504/editor.html/libs/wcm/core/content/sites/publishpagewizard.html?item=/content/we-retail/language-masters/en/about-us.html` -->



* **与 Oak 相关**
自服务包 13 起及更高版本中，开始出现以下错误日志，从而影响持久化缓存：

  ```shell
  org.h2.mvstore.MVStoreException: The write format 1 is smaller than the supported format 2 [2.0.202/5]
  at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
      at org.h2.mvstore.MVStore.getUnsupportedWriteFormatException(MVStore.java:1059)
      at org.h2.mvstore.MVStore.readStoreHeader(MVStore.java:878)
      at org.h2.mvstore.MVStore.<init>(MVStore.java:455)
      at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4052)
      at org.h2.mvstore.db.Store.<init>(Store.java:129)
  ```

  或者

  ```shell
  org.h2.mvstore.MVStoreException: The write format 1 is smaller than the supported format 2 [2.1.214/5].
  ```

  要解决此异常，请执行以下操作：

   1. 从 `crx-quickstart/repository/` 中删除以下两个文件夹

      * `cache`
      * `diff-cache`

   1. 安装服务包，或重新启动 Experience Manager as a Cloud Service。
新的 `cache` 和 `diff-cache` 文件夹会自动创建，并且不会再在 `error.log` 中遇到与 `mvstore` 相关的异常。

* 请将可能使用了自定义 API 名称的 GraphQL 查询更新为使用内容模型的默认名称。

* GraphQL 查询可能会使用 `damAssetLucene` 索引，而不是 `fragments` 索引。此操作可能导致 GraphQL 查询失败或运行时间过长。

  要解决该问题，必须在 `/indexRules/dam:Asset/properties` 下配置 `damAssetLucene`，以添加以下两个属性：

   * `contentFragment`
      * `jcr:primaryType="nt:unstructured"`
      * `name="jcr:content/contentFragment"`
      * `propertyIndex="{Boolean}true"`
      * `type="Boolean"`
   * `model`
      * `jcr:primaryType="nt:unstructured"`
      * `name="jcr:content/data/cq:model"`
      * `ordered="{Boolean}true"`
      * `propertyIndex="{Boolean}true"`
      * `type="String"`

  在修改索引定义后，需要重新索引（`reindex` = `true`）。

  完成以上步骤后，GraphQL 查询的性能应会提升。

* 当尝试移动、删除或发布内容片段、网站或页面时，获取内容片段引用的后台查询会失败。也就是说，该功能无法正常工作。
为确保该功能正常运行，必须将以下属性添加到索引定义节点 `/oak:index/damAssetLucene`（无需重新索引）：

  ```xml
  "tags": [
      "visualSimilaritySearch"
    ]
  "refresh": true
  ```

* 在执行 GraphQL 查询并使用可选变量时，如果&#x200B;**没有**&#x200B;为该可选变量提供具体值，则该变量的值会被视为隐式的 `null`。这意味着筛选器只会匹配相应属性为 `null` 值的记录。

  例如，在下面的查询中，未为 `lastName` 属性指定任何值时：

  ```graphql
  query getAuthorsFilteredByLastName($authorLastName: String) {
  authorList(filter:
    {
      lastName: {_expressions: {value: $authorLastName}
      }}) {
    items {
      lastName
      }
    }
  }
  ```

  仅会返回 `lastName` 属性值为 null 的作者：

  ```graphql
  {
  "data": {
    "authorList": {
      "items": [
        {
          "lastName": null
        }
      ]
    }
  }
  }
  ```

* 如果您在 Java™ 11 上将 [!DNL Experience Manager] 实例从 6.5.0 – 6.5.4 升级到最新的服务包，可能会在 `error.log` 文件中看到 `RRD4JReporter` 异常。要停止这些异常，请重新启动 [!DNL Experience Manager] 实例。<!-- THIS BULLET POINT WAS UPDATED AS PER CQDOC-20021, JANUARY 23, 2023 -->

* 用户可以在 [!DNL Assets] 的层级中重命名文件夹，并将嵌套文件夹发布到 [!DNL Brand Portal]。但是，在 [!DNL Brand Portal] 中，文件夹标题不会更新，直到重新发布根文件夹。

* 在安装 [!DNL Experience Manager] 6.5.x.x 期间，可能会显示以下错误和警告消息：
   * 当在 [!DNL Experience Manager] 中使用 Target Standard API（IMS 身份验证）配置 Adobe Target 集成时，将体验片段导出到 Target 会导致创建错误的产品建议类型。在 Target 中，系统不会创建类型为“Experience Fragment”/来源为“Adobe Experience Manager”的产品建议，而是会创建多个类型为“HTML”/来源为“Adobe Target Classic”的产品建议。
   * `com.adobe.granite.maintenance.impl.TaskScheduler`：在 granite/operations/maintenance 中未找到维护窗口。
   * 当在自适应表单中使用 SUM、MAX 和 MIN 等聚合函数时，服务器端验证失败（CQ-4274424）。
   * `com.adobe.granite.maintenance.impl.TaskScheduler` - 在 granite/operations/maintenance 中未找到维护窗口。
   * 通过 Shoppable Banner 查看器预览资产时，Dynamic Media 交互式图像中的热点不可见。
   * `com.adobe.cq.social.cq-social-jcr-provider bundle com.adobe.cq.social.cq-social-jcr-provider:1.3.5 (395)[com.adobe.cq.social.provider.jcr.impl.SpiSocialJcrResourceProviderImpl(2302)]`：等待完成取消注册的注册变更时超时。

* 从 AEM 6.5.15 开始，由 ```org.apache.servicemix.bundles.rhino``` 捆绑包提供的 Rhino JavaScript 引擎引入了新的提升行为。使用严格模式（```use strict;```）的脚本必须正确声明变量，否则将无法运行并抛出运行时错误。

### AEM Forms 已知问题

#### 支持的平台

* 不支持使用 JDK 11.0.20 安装 JEE 上的 AEM Forms 安装程序。仅支持使用 JDK 11.0.19 或更早版本安装 JEE 上的 AEM Forms 安装程序。（FORMS-10659）

#### 安装

* 在 JBoss® 7.1.4 平台上，当用户安装 Experience Manager 6.5.16.0 或更高版本的服务包时，`adobe-livecycle-jboss.ear` 部署会失败。（CQ-4351522、CQDOC-20159）

<!-- 
* After upgrading to AEM Forms 6.5.18.0 JBoss&reg; Turnkey full installer environment on Windows Server 2022, when compiling Output client application code using Java&trade; 11, the following compilation error may occur:
  
  ```
  error: error reading [AEM_Forms_Installation_dir]\sdk\client-libs\common\adobe-output-client.jar; java.net.URISyntaxException: 
  Illegal character in path at index 70: file:/[AEM_Forms_Installation_dir]/sdk/client-libs/common/${clover.jar.name} 1 error
  
  ```
  
  To resolve the issue, perform the following steps:
    1. Navigate to `[AEM_Forms_Installation_dir]\sdk\client-libs\common\` and unzip `adobe-output-client.jar` to extract the `Manifest.mf` file.
    1. Update the `Manifest.mf` file by removing the entry `${clover.jar.name}` from the class-path attribute. 

        >[!NOTE]
        >
        > You can also use an in-place editing tool, for example, 7-zip, to update the `Manifest.mf` file.  

    1. Save the updated the `Manifest.mf` in the `adobe-output-client.jar` archive. 
    1. Save the modified `adobe-output-client.jar` file and rerun the setup. (CQDOC-20878) -->

<!--* After installing AEM Service Pack 6.5.19.0 full installer, the EAR deployment fails on JEE using JBoss&reg; Turnkey. 
To resolve the issue, locate the `<AEM_Forms_Installation_dir>\jboss\bin\standalone.bat` file and update `Adobe_Adobe_JAVA_HOME` to `Adobe_JAVA_HOME` for all occurrences before running the configuration manager. (CQDOC-20803)-->

#### 安装 Servlet 片段（AEM 服务包 6.5.14.0 或更早版本）

* 如果您升级至 AEM 服务包 6.5.15.0 或更高版本，且 AEM 实例运行在 Tomcat 8.5.88 上，则在继续安装服务包 6.5.15.0 或更高版本&#x200B;*之前*，必须先安装 Servlet 片段。
* 除运行在 JBoss® EAP 7.4.0 上的应用程序服务器外，所有应用程序服务器都必须安装该 Servlet 片段。

**安装 Servlet 片段的方法：**

1. 从[软件分发](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq650/featurepack/org.apache.felix.http.servlet-api-1.2.0_fragment_full.jar)下载 Servlet 片段。
1. 启动应用程序服务器。
1. 等待日志稳定后检查捆绑包状态。
1. 打开网页控制台捆绑包。默认 URL 为 `http://[Server]:[Port]/system/console/bundles`。
1. 选择&#x200B;**[!UICONTROL 安装]**&#x200B;或者&#x200B;**[!UICONTROL 更新]**。
1. 选择已下载的片段。
   `org.apache.felix.http.servlet-api-1.2.0_fragment_full.jar`
1. 选择&#x200B;**[!UICONTROL 安装]**&#x200B;或者&#x200B;**[!UICONTROL 更新]**。
1. 等待应用程序服务器稳定。
1. 停止应用程序服务器。

#### 自适应表单

* 当发布自适应表单时，其所有依赖项（包括策略）都会被重新发布，即使这些依赖项并未修改也是如此。（FORMS-10454）
* 当用户首次选择在自适应表单中配置某个字段时，属性浏览器中不会显示保存配置的选项。在同一编辑器中选择配置自适应表单的其他字段即可解决该问题。
* 当用户执行提交操作时，提交会因以下错误而失败：
  `javax.servlet.ServletException: java.lang.NoSuchMethodError`
要解决此问题，请[重新编译 Sling 脚本（如 JSP、Java™ 和 Sightly）](https://experienceleague.adobe.com/docs/experience-cloud-kcs/kbarticles/KA-16543.html#resolution)。（FORMS-8542）
* 安装 AEM 服务包 6.5.14.0 及更高版本后，用户在 JEE 管理用户界面中为 PDF 文档选择字体时遇到问题。当导航至 `Home` > `Services` > `PDF Generator` > `Adobe PDF Settings` 时，字体列表显示为空，无法选择字体。（FORMS-12095）
* 自适应表单允许您使用 ECMAScript 5 或更早版本的自定义函数。如果自定义函数使用 ECMAScript 6 或更高版本（如 “let”、“const” 或箭头函数），规则编辑器可能无法正常打开。
* 提交自适应表单时，复选框会存储错误的值。它会在每个逗号（“,”）前多加一个斜杠（“/”）。（FORMS-12093）
* 当提交基于核心组件的自适应表单时，表单无法提交。要解决此问题，请应用功能切换开关 ft-cq-4324864。应用功能切换开关的方法：
   1. 打开 URL：`http://[server]:[port]/system/console/configMgr`
   1. 搜索并打开 `com.adobe.granite.toggle.impl.dev.DynamicToggleProviderImpl` 配置
   1. 指定功能切换开关编号。例如，ft-cq-4324864。
   1. 保存配置。该功能现已启用。（FORMS-12789）
* 在基于 XDP 的自适应表单中，如果复选框中嵌入了脚本，则不会执行复选框之后的元素脚本。（FORMS-14244）
* 在具有编辑/显示模式的字段中，日期选择器小组件在弹出窗口中切换月份时，行会被截断。（FORMS-13620）
* 当从 Adobe Experience Manager 发布实例将自适应表单提交到 Adobe Experience Manager 工作流时，该工作流无法保存附件。（FORMS-14209）


#### JEE 上的 AEM Forms

* 在 Struts 2 RCE 中发现了严重的安全漏洞。Struts 2 是一个广泛使用的开源 Web 应用程序框架，用于开发 Java EE Web 应用程序。为修复 JEE 上的 AEM Forms 中的此漏洞，Adobe 已发布 [AEM 6.5 服务包 19.1（6.5.19.1）](/help/forms/using/mitigating-struts-2-rce-vulnerabilities-for-experience-manager-manager-form.md)。

* PDF Generator 服务无法枚举服务器上可用的字体。因此，在 PDFG 管理 UI 的 Adobe PDF 设置页面上，字体选择面板为空，从而无法嵌入或取消嵌入所选字体。（FORMS-12095）

#### 交互式通信

* 预填充服务因空指针异常而失败。（CQDOC-21355）
* 在交互式通信代理 UI 的打印预览中，货币符号（如美元符号 $）在各字段值中的显示不一致。对于不超过 999 的数值会显示符号，但对于 1000 及以上的数值则缺少符号。（FORMS-16557）
* 在交互式通信中，对嵌套布局片段的 XDP 所做的任何修改都不会反映在 IC 编辑器中。（FORMS-16575）
* 在交互式通信代理 UI 的打印预览中，部分计算值未正确显示。（FORMS-16603）
* 在打印预览中查看信件时，内容会发生变化。部分空格会消失，某些字母会被替换为 “x”。（FORMS-15681）

<!--The font enumeration fails due to the missing Ps2Pdf service file.-->

## 已包含的 OSGi 捆绑包和内容包{#osgi-bundles-and-content-packages-included}

以下文本文档列出了 [!DNL Experience Manager] 6.5.19.0 中包含的 OSGi 捆绑包与内容包：<!-- UPDATE FOR EACH NEW RELEASE -->

* [Experience Manager 6.5.19.0](/help/release-notes/assets/65190_bundles.txt) 中包含的 OSGi 捆绑包列表 <!-- UPDATE FOR EACH NEW RELEASE -->
* [Experience Manager 6.5.19.0](/help/release-notes/assets/65190_packages.txt) 中包含的内容包列表 <!-- UPDATE FOR EACH NEW RELEASE -->

## 受限网站{#restricted-sites}

这些网站仅向客户开放。如果您已是客户并需要访问权限，请联系您的 Adobe 客户经理。

* [在 licensing.adobe.com 下载产品](https://licensing.adobe.com/)
* [联系 Adobe 客户支持部门](https://experienceleague.adobe.com/docs/customer-one/using/home.html)。

>[!MORELIKETHIS]
>
>* [[!DNL Experience Manager] 产品页面](https://business.adobe.com/products/experience-manager/adobe-experience-manager.html)
>* [[!DNL Experience Manager] 6.5 文档](https://experienceleague.adobe.com/docs/experience-manager-65.html)
>* [订阅 Adobe 产品更新早知道](https://www.adobe.com/subscription/priority-product-update.html)
