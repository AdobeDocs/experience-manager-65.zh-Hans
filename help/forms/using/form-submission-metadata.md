---
title: 将用户数据中的信息添加到表单提交元数据
seo-title: 将用户数据中的信息添加到表单提交元数据
description: '了解如何使用用户提供的数据向已提交表单的元数据中添加信息。 '
seo-description: '了解如何使用用户提供的数据向已提交表单的元数据中添加信息。 '
uuid: c3eea3c0-31f8-4bf8-b5cf-34f907bdbdba
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: develop
discoiquuid: 2c971da0-5bd5-40d1-820d-4efc2a44b49d
docset: aem65
translation-type: tm+mt
source-git-commit: 27a054cc5d502d95c664c3b414d0066c6c120b65

---


# 将用户数据中的信息添加到表单提交元数据{#adding-information-from-user-data-to-form-submission-metadata}

您可以使用在表单元素中输入的值来计算草稿或表单提交的元数据字段。 元数据允许您根据用户数据筛选内容。 例如，用户在表单的名称字段中输入John Doe。 您可以使用此信息计算元数据，以便将此提交分类到缩写JD下。

要使用用户输入的值计算元数据字段，请在元数据中添加表单的元素。 当用户在该元素中输入值时，脚本使用该值计算信息。 此信息将添加到元数据中。 在将元素添加为元数据字段时，需为其提供一个键。 该键将作为元数据中的字段添加，并记录针对该字段计算的信息。

例如，一家医疗保险公司发布了一份表格。 在此表单中，字段捕获最终用户的年龄。 客户希望在许多用户提交表单后检查特定年龄范围内的所有提交内容。 附加元数据不是浏览随表单数量增加而变得复杂的所有数据，而是帮助客户。 表单作者可以配置在顶级存储由最终用户填写的属性／数据，以便最轻松地进行搜索。 其他元数据是用户填写的信息，存储在元数据节点的顶级，作者对其进行了配置。

请考虑另一个捕获电子邮件ID和电话号码的表单示例。 当用户匿名访问此表单并放弃该表单时，作者可以将表单配置为自动保存电子邮件ID和电话号码。 此表单将自动保存，电话号码和电子邮件ID存储在草稿的元数据节点中。 此配置的一个用例是潜在客户管理仪表板。

## 将表单元素添加到元数据 {#adding-form-elements-to-metadata}

执行以下步骤以在元数据中添加元素：

1. 在编辑模式下打开自适应表单。\
   要在编辑模式下打开表单，请在表单管理器中选择表单，然后点按打 **开**。
1. 在编辑模式中，选择一个组件，点按字 ![段级别](assets/field-level.png) >自适 **应表单容器**，然后点 ![按cmppr](assets/cmppr.png)。
1. 在提要栏中，单击“元 **数据”**。
1. 在“元数据”部分，单击“添 **加”**。
1. 使用“元数据”选项卡的“值”字段添加脚本。 您添加的脚本从表单上的元素收集数据并计算输入到元数据的值。

   例如，如 **果输入的年龄大于21** ，则在元数据中记录true；如果输入的年龄小于21，则 **记录false** 。 在“元数据”选项卡中输入以下脚本：

   `(agebox.value >= 21) ? true : false`

   ![元数据脚本](assets/add-element-metadata.png)

   在“元数据”选项卡中输入的脚本

1. 单击&#x200B;**确定**。

当用户在作为元数据字段选择的元素中输入数据后，计算的信息将记录在元数据中。 您可以在配置用于存储元数据的存储库中查看元数据。

## 查看更新的表单提交元数据： {#seeing-updated-form-nbsp-submission-metadata}

对于以上示例，元数据存储在CRX存储库中。 元数据如下所示：

![元数据](assets/metadata_entry_new.png)

如果在元数据中添加复选框元素，则选定的值将存储为以逗号分隔的字符串。 例如，在表单中添加复选框组件，并将其名称指定为 `checkbox1`。 在复选框组件属性中，为值0、1和2添加“驾驶许可证”、“社会保险号”和“护照”等项目。

![存储复选框中的多个值](assets/checkbox-metadata.png)

您选择自适应表单容器，并在表单属性中添加存储和发 `cb1` 布表 `checkbox1.value`单的元数据键。 当客户填写表单时，客户会在复选框字段中选择“护照”和“社会保险号”选项。 值1和2作为1、2存储在提交元数据的cb1字段中。

![复选框字段中选定多个值的元数据条目](assets/metadata-entry.png)

>[!NOTE]
>
>以上示例仅用于学习目的。 确保在AEM Forms实施中配置的正确位置查找元数据。

