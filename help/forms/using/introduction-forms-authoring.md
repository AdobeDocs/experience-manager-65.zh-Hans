---
title: 製作調適型表單簡介
seo-title: Introduction to authoring adaptive forms
description: AEM Forms提供簡單易用但功能強大的介面，用於撰寫調適型表單。 它提供了大量可用于构建表单的组件和工具。
seo-description: AEM Forms provide easy-to-use yet powerful interface for authoring adaptive forms. It provides a host of components and tools that you can use to build forms.
uuid: 3b150507-41b9-47c2-a94c-f85b903b2274
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: introduction, author
discoiquuid: ba70921e-db7e-43f6-902c-1065d3b13aef
docset: aem65
feature: Adaptive Forms
exl-id: 935b734c-6fb1-45e8-8515-e98c8b85286c
source-git-commit: b220adf6fa3e9faf94389b9a9416b7fca2f89d9d
workflow-type: tm+mt
source-wordcount: '3138'
ht-degree: 56%

---

# 製作調適型表單簡介 {#introduction-to-authoring-adaptive-forms}

## 概述 {#overview}

最適化表單可讓您建立吸引人、回應式、動態且最適化的表單。 AEM Forms提供直覺式使用者介面和現成元件，用於建立和使用調適型表單。 您可以選擇根據表單模型或結構描述或不使用表單模型來建立最適化表單。 请务必仔细选择不仅符合您的要求，而且可扩展现有基础设施投资和资产的表单模型。您可以從下列選項中選擇，以建立最適化表單：

* **使用表单数据模型**
   [資料整合](../../forms/using/data-integration.md) 可讓您將來自不同資料來源的實體和服務整合到可用於建立調適型表單的表單資料模型。 如果您要建立的最適化表單涉及從多個資料來源擷取及寫入資料，請選擇表單資料模型。

* **使用 XDP 表单模板**
如果您投资于基于 XFA 的表单或 XDP 表单，那么这将是理想的表单模型。它可讓您直接將XFA型表單轉換為最適化表單。 任何現有的XFA規則都會保留在關聯的最適化表單中。 產生的調適型表單支援XFA建構，例如驗證、事件、屬性和模式。

* **使用 XML 架构定义 (XSD) 或 JSON 架构**
XML 和 JSON 架构代表组织中的后端系统在其中生成或使用数据的结构。您可以將結構描述關聯至最適化表單，並使用其元素將動態內容新增至最適化表單。 在製作調適型表單時，結構描述的元素可用於內容瀏覽器的資料模型物件索引標籤中。

* **使用無表單模型或不使用表單模型**
使用此選項建立的最適化表單不使用任何表單模型。 从此类表单生成的数据 XML 具有带字段和相应值的平面结构。

如需建立最適化表單的詳細資訊，請參閱 [建立最適化表單](../../forms/using/creating-adaptive-form.md).

## 最適化表單編寫UI {#adaptive-form-authoring-ui}

用於編寫最適化表單的觸控最佳化UI是直覺式的，並提供：

* 拖放功能
* 标准表单组件
* 集成的资产存储库

當您建立新的或編輯現有的最適化表單時，會使用下列UI元素：

* [侧栏](#sidebar)
* [页面工具栏](#page-toolbar)
* [组件工具栏](#component-toolbar)
* [最適化表單頁面](#af-page)

![最適化表單編寫UI](assets/formeditor.png)

**答：** 側欄 **B.** 頁面工具列 **C.** 最適化表單頁面

### 侧栏 {#sidebar}

侧栏可让您：

* 查看面板、组件、字段和布局等表单内容。
* 编辑组件属性。
* 在您的 AEM 数字资产管理 (DAM) 存储库中搜索、查看和使用资产。
* 在表单上添加组件。

![侧栏](assets/sidebar-comps.png)

**A.** 内容浏览器 **B.** 属性浏览器 **C.** 资产浏览器 **D.** 组件浏览器

<!--Click to enlarge

](assets/sidebar-comps-1.png) -->

侧栏包含以下浏览器：

* **內容瀏覽器**
在內容瀏覽器中，您可以看到

   * **表单对象**
显示表单的对象层级。作者可以通过在表单对象树中点按特定表单组件来导航到该组件。作者可以从该树中搜索对象并重新排列它们。

   * **数据模型对象**
可让您查看表单模型层级。
它可讓您將表單模型元素拖放至最適化表單上。 已添加的元素会自动转换为表单组件，同时保留其原始属性。当表单使用 XML 架构、JSON 架构或 XDP 模板时，您会看到数据模型对象。

* **属性浏览器**

   可让您编辑组件的属性。属性根据组件而变化。若要檢視最適化表單容器的屬性：

   選取元件，然後點選 ![欄位層級](assets/field-level.png) > **[!UICONTROL 最適化表單容器]**，然後點選 ![cmppr](assets/cmppr.png).

* **资产浏览器**

   使不同类型的内容分离开来，例如图像、文档、页面、电影等。

* **组件浏览器**

   包含可用來建置最適化表單的元件。 您可以將元件從拖曳到調適型表單上以新增表單元素，並依需求設定新增的元素。 下表描述了组件浏览器中列出的组件。

<table>
 <tbody>
  <tr>
   <th><strong>组件</strong></th>
   <th><strong>功能</strong></th>
  </tr>
  <tr>
   <td>Adobe Sign Block</td>
   <td>对使用 Adobe Sign 签名时需要填写的字段添加含占位符的文本块。</td>
  </tr>
  <tr>
   <td>按钮</td>
   <td>添加一个按钮，可配置该按钮以执行保存、重置、下一步、上一步等操作。</td>
  </tr>
  <tr>
   <td>验证码</td>
   <td>使用 Google reCAPTCHA 服务添加验证码验证。如需詳細資訊，請參閱 <a href="../../forms/using/captcha-adaptive-forms.md" target="_blank">在最適化表單中使用驗證碼</a>.</td>
  </tr>
  <tr>
   <td>图表</td>
   <td>新增可在調適型表單和檔案中使用的圖表，以視覺化方式呈現可重複面板和表格列中的二維資料。</td>
  </tr>
  <tr>
   <td>复选框</td>
   <td>添加复选框。</td>
  </tr>
  <tr>
   <td>数据输入字段</td>
   <td>在您的表单中使用日期输入字段组件，让客户分别在三个框中填写日、月和年。您可以自定义组件的外观，并更改日期格式。例如，您可以让客户以 MM/DD/YYYY 或 DD/MM/YYYY 格式输入日期。</td>
  </tr>
  <tr>
   <td>日期选取器</td>
   <td>新增行事曆欄位以挑選日期。</td>
  </tr>
  <tr>
   <td>文档片段</td>
   <td>可让您添加通信的可重用组件。</td>
  </tr>
  <tr>
   <td>文档片段组</td>
   <td>可让您添加一组相关的文档片段，可以在信件模板中将这些片段用作一个单元。</td>
  </tr>
  <tr>
   <td>下拉列表</td>
   <td>添加下拉列表 – 单选或多选</td>
  </tr>
  <tr>
   <td>电子邮件</td>
   <td><p>添加字段以捕获电子邮件地址。默认情况下，电子邮件组件使用以下正则表达式来验证电子邮件地址。</p> <p><code>^[a-zA-Z0-9.!#$%&amp;’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$</code></p> </td>
  </tr>
  <tr>
   <td>文件附件</td>
   <td><p>添加一个按钮，可让用户浏览支持文档并将其附加到表单。您可以將多個檔案附加到「檔案」附件元件。 您也可以在元件的屬性瀏覽器中，為附件指定**[！UICONTROL檔案大小上限]**和**[！UICONTROL支援的檔案型別]**。 </p> <p><strong> 注意: </strong><ul> <li> 元件不支援附加檔案名稱以字元(.)開頭，包含字元\ / ： * ？ 「 &lt; &gt; | ； % $，或包含保留給Windows作業系統（如nul、prn、con、lpt或com）的特殊檔案名稱。 </li> <li> 若要將多個檔案附加至Apple Safari瀏覽器中開啟的檔案附件元件，請逐一選取並附加檔案。 您無法一次選取並附加多個檔案。</li> <li>「檔案附件」元件支援為Adobe Sign啟用的調適型表單中的預先定義檔案格式集。 有关更多信息，请参阅<a href="https://helpx.adobe.com/document-cloud/help/supported-file-formats-fill-sign.html#main-pars_text">支持的文件格式</a>。 </li></ul></p> </td>
  </tr>
  <tr>
   <td>文件附件列表</td>
   <td>添加一个字段，该字段将列出使用文件附件组件上传的所有附件。</td>
  </tr>
  <tr>
   <td>页眉<br /> </td>
   <td>添加通常包括公司徽标、表单标题和摘要的页面标题。<br /> </td>
  </tr>
  <tr>
   <td>页脚</td>
   <td>添加通常包括版权信息和指向其他页面的链接的页脚。 </td>
  </tr>
  <tr>
   <td>图像</td>
   <td>可让您插入图像。</td>
  </tr>
  <tr>
   <td>图像选择</td>
   <td>可让您的客户选择图像以提供信息。您可以使用这些信息向您的客户提供个性化服务。</td>
  </tr>
  <tr>
   <td>“下一个”按钮</td>
   <td>添加按钮以导航到表单中的下一面板。</td>
  </tr>
  <tr>
   <td>数值框</td>
   <td>添加用于捕获数值的字段</td>
  </tr>
  <tr>
   <td>数值步进器</td>
   <td>在您的表单中使用数值步进器以让您的客户输入一个数值，他们可以根据预定义的步骤增大或减小该数值。</td>
  </tr>
  <tr>
   <td>面板</td>
   <td><p>添加面板或子面板。</p> <p>您还可以使用<span class="uicontrol">添加子面板</code>按钮从父面板工具栏添加面板组件。同样，您可以使用<span class="uicontrol">添加面板工具栏</code>按钮来添加特定于面板的工具栏。您可以使用“编辑面板”对话框配置面板工具栏的位置。</code></code></p> </td>
  </tr>
  <tr>
   <td>密码框</td>
   <td>添加用于捕获密码的字段。</td>
  </tr>
  <tr>
   <td>“上一个”按钮</td>
   <td>添加一个按钮，用户需要使用该按钮来返回上一个页面或面板。</td>
  </tr>
  <tr>
   <td>单选按钮</td>
   <td>添加单选按钮。</td>
  </tr>
  <tr>
   <td>“重置”按钮</td>
   <td>添加按钮以重置表单字段。</td>
  </tr>
  <tr>
   <td>“保存”按钮</td>
   <td>添加按钮以保存表单数据。</td>
  </tr>
  <tr>
   <td>连笔签名</td>
   <td>添加用于捕获连笔签名的字段。</td>
  </tr>
  <tr>
   <td>分隔符</td>
   <td>在表单中启用面板的可视分离。</td>
  </tr>
  <tr>
   <td>签名步骤</td>
   <td>显示表单中提供的信息以及供用户用来验证和签署表单的签名字段。</td>
  </tr>
  <tr>
   <td>文本</td>
   <td>可让您指定静态文本。</td>
  </tr>
  <tr>
   <td>“提交”按钮</td>
   <td>新增提交按鈕，將表單提交至設定的提交動作。</td>
  </tr>
  <tr>
   <td>摘要步骤</td>
   <td>提交表单并显示作者在提交表单后指定的摘要文本。 </td>
  </tr>
  <tr>
   <td>开关</td>
   <td>添加用于执行切换或启用/禁用操作的开关。您无法在开关组件中添加两个以上的选项。由于开关只能有两个值：“开”或“关”，因此“强制”不适用。不管用户输入如何，至少保存一个值。<br /> </td>
  </tr>
  <tr>
   <td>表</td>
   <td>添加表格以便按行和列整理数据。 </td>
  </tr>
  <tr>
   <td>电话</td>
   <td><p>添加字段以捕获电话号码。电话组件可让作者配置下列电话号码类型之一。每种类型均与一个用于验证的默认正则表达式关联。</p>
    <ul>
     <li>类型“国际”由 <code>^[+][0-9]{0,14}$</code> 进行验证。</li>
     <li>类型“USPhoneNumber”由 <code>{'+1 ('999') '999-9999}</code> 进行验证。</li>
     <li>类型“UKPhoneNumber”由 <code>text{'+'99 999 999 9999}</code> 进行验证。</li>
     <li>类型“自定义”不提供默认验证模式。它采用最后选择的电话号码类型的值。您也可以指定建自己的自定义验证模式。</li>
    </ul> </td>
  </tr>
  <tr>
   <td>条款和条件<br /> </td>
   <td>添加一个字段，作者可使用该字段指定用户在填写表单之前要查看的条款和条件。</td>
  </tr>
  <tr>
   <td>文本框 </td>
   <td><p>添加一个文本框，用户可以在其中指定所需的信息。 </p> <p>默认情况下，文本框组件只接受纯文本。您可以启用文本框组件以接受富文本。支持富文本的文本组件提供了用于添加标题、更改字符样式（将字符设为粗体、将字符设为斜体、为字符加下划线）、创建有序列表和无序列表、更改文本背景和文本颜色以及添加超链接的选项。要为文本框启用富文本，请在组件属性中启用<strong>允许富文本</strong>选项。</p> </td>
  </tr>
  <tr>
   <td>标题</td>
   <td>指定自適應表單的標題。</td>
  </tr>
  <tr>
   <td>验证步骤</td>
   <td><p>添加占位符以显示已填好的表单供用户验证。</p> <p><strong>注意</strong>：包含Verify元件的調適型表單不支援匿名使用者。 此外，不建議在自適應表單片段中使用驗證元件。</p> </td>
  </tr>
 </tbody>
</table>

#### 使用元件的最佳作法 {#best-practices}

使用最適化表單元件時，需記住的一些最佳實務和要點如下：

* 每個元件都有相關的屬性，這些屬性控制其外觀和功能。 若要設定元件的屬性，請點選元件並點選 ![cmppr](assets/cmppr.png) 以在「屬性」瀏覽器中開啟元件屬性。
* 元件以其元素名稱識別。 點選時 ![cmppr](assets/cmppr.png)，您可以透過變更元件名稱來變更元件 **[!UICONTROL 元素名稱]** 屬性瀏覽器中的欄位值。 「元素名稱」欄位僅接受字母、數字、連字型大小(-)和底線(_)。 不允許使用其他特殊字元，元素名稱應以字母開頭。

* 只要可以在表單上看到標題，您就可以修改內嵌在表單編輯器中適用性表單元件的Title屬性，而無需開啟Properties瀏覽器。 若要這麼做：

   1. 點選以選取具有 **[!UICONTROL 標題]** 屬性及其 **[!UICONTROL 隱藏標題]** 屬性已停用。

   1. 點選 ![aem_6_3_edit](assets/aem_6_3_edit.png) 讓標題可編輯。

   1. 修改標題並點選Return鍵，或點選元件之外的任意位置以儲存變更。 點選Esc鍵以捨棄變更。

* 電子郵件和電話等部分最適化表單元件包含現成可用的驗證模式。 不過，您可以更新 **[!UICONTROL 驗證模式]** 元件屬性中「模式」摺疊式功能表下的欄位。 請參閱上表中的「元件說明」，以取得預設驗證的詳細資訊。

* 最適化表單欄位（例如數值方塊和電子郵件）可以設定為包含專門的HTML5輸入型別。 當這些欄位成為行動裝置和平板電腦上的焦點時，鍵盤會預先顯示特定字母、數字和字元，這些通常用於欄位中的輸入資訊。 它可協助使用者快速輸入資訊，而不需在鍵盤上的字元組之間切換。 若要允許專門輸入元件，請啟用 **[!UICONTROL 使用HTML型別編號]** 核取方塊。

* 您可以启用文本框组件以接受富文本。若要為文字方塊啟用RTF文字，請啟用 **[!UICONTROL 允許RTF文字]** 元件屬性中的核取方塊。

* 您可以啟用「文字方塊」、「電子郵件」和「電話」元件，以自動填寫名稱、地址、信用卡、電話和電子郵件等欄位值，這些值來自瀏覽器自動填寫設定中儲存的資訊。 若要啟用此功能，請選取 **[!UICONTROL 啟用自動填寫]** 在元件屬性中並選取 **[!UICONTROL 自動填寫屬性]**. 當使用者填寫最適化表單時，會根據瀏覽器中自動填寫設定檔的值或使用者先前填寫的值來建議值。 請注意，如果使用者瀏覽器中的自動填寫設定已開啟，自動填寫即可運作。

* 指定選項按鈕和核取方塊專案的值 `{value}={text}` 元件屬性中的格式。
* 依預設，檔案附件元件僅允許使用者附加一個檔案。 不過，您可以設定元件屬性以支援多個附件。 此外，如果使用者使用相同的檔案名稱附加多個檔案，附件可能會導致一些問題。 因此，建議您在提交表單時，為每個已提交的附件建立唯一識別碼的關聯。 若要這麼做：

   1. 在您的AEM Forms伺服器上，導覽至 **[!UICONTROL Adobe Experience Manager]** > **[!UICONTROL 工具]** > **[!UICONTROL 作業]** > **[!UICONTROL 網頁主控台]**.
   1. 尋找並點選 **[!UICONTROL 最適化Forms設定服務]**.
   1. 在最適化Forms設定服務對話方塊中，啟用 **[!UICONTROL 將檔案名稱設為唯一]**. 預設為停用。

* 若要讓使用者能使用Safari瀏覽器附加PDF，請確定 **application/pdf** 會新增至「檔案」附件元件的「支援的檔案型別」屬性。 以舊版AEM Forms建立的最適化表單可能包含 **.pdf** 而非 **application/pdf** （在支援的檔案型別屬性中）。

如需最適化表單的更多最佳實務，請參閱 [使用最適化表單的最佳作法](/help/forms/using/adaptive-forms-best-practices.md).

>[!NOTE]
>
>最適化表單元件不支援由右至左(RTL)語言。 例如，希伯來文。

### 页面工具栏 {#page-toolbar}

顶部的页面工具栏提供了各种选项，以便您能够预览表单、更改表单属性和编辑表单布局。您可以在创作表单时预览表单，并进行相应的更改。在页面工具栏中，您会看到：

* **切换侧面板**![toggle-side-panel](assets/toggle-side-panel.png)：可让您显示或隐藏侧栏。

* **页面信息**![theme-options](assets/theme-options.png)：可让您查看页面属性、发布/取消发布表单、启动表单工作流以及在经典 UI 中打开表单。

* **模拟器**![ruler](assets/ruler.png)：可让您针对不同的显示尺寸（如平板电脑和手机）模拟表单外观。

* **编辑**：可让您选择其他模式，例如：**[!UICONTROL 编辑]**、**[!UICONTROL 样式]**、**[!UICONTROL 开发人员]**&#x200B;和&#x200B;**[!UICONTROL 设计]**。

   * **Edit**：可让您编辑表单及其组件的属性。例如，添加组件、删除图像和指定必填字段。
   * **样式**：可让您设计表单组件的外观。例如，在样式模式下，您可以选择一个面板并指定其背景颜色。

   * **开发人员**：可让开发人员：

      * 发现表单的组成部分。
      * 调试何时何地发生的情况，这反过来有助于解决问题。
   * **设计**。可让您启用或禁用自定义组件，或侧栏中未列出的现成组件。


* **预览**：可让您预览表单在发布时的外观。

### 组件工具栏 {#component-toolbar}

![触屏 UI 中的组件工具栏](assets/component-toolbar.png)

在选择一个组件时，将显示一个可用于使用该组件的工具栏。您可以获得用于剪切、粘贴、移动和指定组件属性的选项。您的选项包括：

A. **配置**：在点按&#x200B;**[!UICONTROL 配置]**&#x200B;时，组件属性将显示在侧栏中。通过配置这些属性，您可以自定义数据捕获体验。您可以更改组件的元素名称，在组件的“标题”字段中指定标签文本。利用元素名称，可以捕获用户使用组件输入的值。在组件属性中，可以指定组件的行为，并管理用户输入。在侧栏中配置属性以捕获用户数据并将它用于进一步处理。最適化表單容器的屬性可讓您指定使用者端資料庫、版面配置、主題、記錄檔案設定、儲存設定、提交設定和中繼資料設定。

B. **复制**：可以使用复制选项来复制一个组件并将其粘贴到表格中的其他位置。粘贴组件时，粘贴的组件将获得一个新的元素名称，但保留已复制组件的属性。

C.**剪下**：您可以使用剪下選項在最適化表單中將元件從一個位置移動到另一個位置。

D. **删除**：可让您从表单中删除组件。

E. **插入**：可让您在选定组件的上方插入组件。

F. **粘贴**：可让您粘贴使用上述选项剪切或复制的组件。

G. **编辑规则**：可让您打开规则编辑器。如需詳細資訊，請參閱 [規則編輯器](../../forms/using/rule-editor.md).

H. **分组**：可让您选择多个组件（如果要剪切、复制或粘贴多个组件）。

I **父项**：可让您选择组件的父项。例如，文本字段位于子分区中，后者位于分区中。區段位於參考線根面板中，而最適化表單容器是參考線根面板的父項。 对于组件，您会看到层级自下而上排序的所有选项。

例如，如果您点按文本框的&#x200B;**[!UICONTROL 父项]**，则会看到：

* 子分区
* 分区
* guideRootPanel
* 自适应表单容器

J. **其他**：提供更多选项来处理所选组件。

* 查看 SOM 表达式
* 将面板另存为片段（仅适用于面板）
* 添加子面板（仅适用于面板）
* 添加面板工具栏（仅适用于面板）
* 替换（不适用于面板）

### 最適化表單頁面 {#af-page}

最適化表單頁面是實際表單。 它类似于任何其他建模为 WCM `cq:Page` 组件的 WCM 页面。下圖顯示典型的最適化表單的內容結構。

![最適化表單WCM頁面的內容結構](assets/afstructure.png)

内容结构通常包含以下主要组件：

* **guideContainer**：最適化表單的根目錄，標示為 **[!UICONTROL 最適化表單的開頭]** 在最適化表單UI中。 在此组件中，您可以指定：

   * *最適化表單的行動佈局*：定義行動裝置上的表單外觀。
   * *感谢页面*：定义用户在提交表单后被重定向到的页面。
   * *提交操作*：定义用户提交表单后在服务器上处理表单的方式。
   * *样式*：指定用于自定义表单外观的 CSS 文件的路径。

* **根面板：** 最適化表單的根面板。 它可以包含项目节点下的子面板。每个包含根面板的面板都可以有一个与之关联的布局。面板的布局指示表单的布局方式。例如，在折叠布局中，其项目被布置为折叠步骤。

* **工具列：** 最適化表單容器有關聯的全域工具列，此工具列是表單的全域工具。 可以使用编辑栏中的&#x200B;**[!UICONTROL 添加工具栏]**&#x200B;操作来添加此工具栏，这可让作者添加操作，例如提交、保存、重置等。

* **资产：**&#x200B;此节点包含用于表单创作的附加信息。例如，表單模型細節、本地化細節等)。
