---
title: 处理页面版本
seo-title: Working with Page Versions
description: 版本控制可创建页面在特定时间点的“快照”。
seo-description: Versioning creates a "snapshot" of a page at a specific point in time.
uuid: 06e112cd-e4ae-4ee0-882d-7009f53ac85b
contentOwner: Chris Bohnert
products: SG_EXPERIENCEMANAGER/6.5/SITES
topic-tags: page-authoring
content-type: reference
discoiquuid: 48936115-4be2-4b0c-81ce-d61e43e4535d
docset: aem65
exl-id: 4eb0de5e-0306-4166-9cee-1297a5cd14ce
source-git-commit: b220adf6fa3e9faf94389b9a9416b7fca2f89d9d
workflow-type: tm+mt
source-wordcount: '1362'
ht-degree: 92%

---

# 处理页面版本{#working-with-page-versions}

版本控制可创建页面在特定时间点的“快照”。使用版本控制，您可以执行下列操作：

* 创建页面的版本。
* 将页面恢复到之前的版本，例如，为了撤消您对页面所做的更改。
* 将页面的当前版本与之前版本进行比较，并突出显示文本和图像中的差异。

## 创建新版本 {#creating-a-new-version}

创建页面的新版本：

1. 在您的浏览器中，打开要为其创建新版本的页面。
1. 在 Sidekick 中，选择&#x200B;**版本控制**&#x200B;选项卡，然后选择&#x200B;**创建版本**&#x200B;子选项卡。

   ![screen_shot_2012-02-14at40259pm](assets/screen_shot_2012-02-14at40259pm.png)

1. 输入&#x200B;**评论**（可选）。
1. 要将标签设置为版本（可选），请单击 **更多>>** 按钮并设置 **标签** 以命名版本。如果未设置标签，则版本是一个自动递增的数字。
1. 单击 **创建版本**. 页面上随即会显示一条灰显的消息；例如：
已为以下对象创建版本 1.2: 衬衫。

>[!NOTE]
>
>激活页面时会自动创建版本。

## 从 Sidekick 恢复某个页面版本 {#restoring-a-page-version-from-sidekick}

将页面恢复到之前的版本：

1. 打开要恢复到之前版本的页面。
1. 在 Sidekick 中，选择&#x200B;**版本控制**&#x200B;选项卡，然后选择&#x200B;**恢复版本**&#x200B;子选项卡。

   ![screen_shot_2012-02-14at42949pm](assets/screen_shot_2012-02-14at42949pm.png)

1. 选择要恢复的版本，然后选择“**恢复**”。

## 从控制台恢复某个页面版本 {#restoring-a-page-version-from-the-console}

此方法可用于恢复页面版本。还可用于恢复之前已删除的页面：

1. 在&#x200B;**网站**&#x200B;控制台中，导航到要恢复的页面并将其选中。
1. 从顶部菜单中选择&#x200B;**工具**，然后选择&#x200B;**恢复**：

   ![screen_shot_2012-02-08at41326pm](assets/screen_shot_2012-02-08at41326pm.png)

1. 选择&#x200B;**恢复版本...** 将列出当前文件夹中文档的各个版本。即使页面已被删除，也会列出其最后一个版本：

   ![screen_shot_2012-02-08at45743pm](assets/screen_shot_2012-02-08at45743pm.png)

1. 选择要恢复的版本，然后单击&#x200B;**恢复**。AEM 会恢复您选择的版本（或树）。

### 从控制台恢复树 {#restoring-a-tree-from-the-console}

此方法可用于恢复页面版本。还可用于恢复之前已删除的页面：

1. 在&#x200B;**网站**&#x200B;控制台中，导航到要恢复的文件夹并将其选中。
1. 从顶部菜单中选择&#x200B;**工具**，然后选择&#x200B;**恢复**。
1. 选择&#x200B;**恢复树...** 将打开一个对话框，可从中选择要恢复的树：

   ![screen_shot_2012-02-08at45743pm-1](assets/screen_shot_2012-02-08at45743pm-1.png)

1. 单击&#x200B;**恢复**。AEM 将恢复您选择的树。

## 与上一版本比较 {#comparing-with-a-previous-version}

将页面的当前版本与之前的版本进行比较：

1. 在您的浏览器中，打开要将其与之前版本进行比较的页面。
1. 在Sidekick中，选择 **版本控制** 选项卡，然后 **恢复版本** n子选项卡。

   ![screen_shot_2012-02-14at42949pm-1](assets/screen_shot_2012-02-14at42949pm-1.png)

1. 选择要进行比较的版本，然后单击&#x200B;**差异**&#x200B;按钮。
1. 当前版本与所选版本之间的差异显示如下：

   * 删除的文本为红色并带有删划线。
   * 添加的文本为绿色并突出显示。
   * 添加或删除的图像会带有绿色边框。

   ![chlimage_1-75](assets/chlimage_1-75.png)

1. 在 Sidekick 中，选择&#x200B;**恢复版本**&#x200B;子选项卡，然后单击 **&lt;&lt; 返回**&#x200B;按钮以显示当前版本。

## 时间扭曲 {#timewarp}

时间扭曲是一项功能，旨在模拟过去特定时间某个页面的&#x200B;***已发布***&#x200B;状态。

其目的是可让您跟踪在选定的时间点已发布的网站。它使用页面激活来确定发布环境的状态。

要执行此操作：

* 系统会查找在选定时间处于活动状态的页面版本。
* 这表示显示的版本是在“时间扭曲”中选择的时间点&#x200B;*之前*&#x200B;创建/激活的。
* 当浏览到已经删除的页面时，也会呈现相应的页面版本 - 只要该页面的旧版本仍然在存储库中即可。
* 如果没有找到发布的版本，则“时间扭曲”会还原到创作环境中该页面的当前状态（这是为了阻止错误/404 页面，这也表示您不能再继续浏览了）。

>[!NOTE]
>
>如果从存储库从删除了版本，那么时间扭曲无法显示正确的视图。此外，如果呈现网站的元素（如代码、css、图像等）已发生更改，则视图将与它原来的样子不一样，因为这些项不在存储库中。

### 使用时间扭曲日历 {#using-the-timewarp-calendar}

可以从 Sidekick 使用时间扭曲。

如果您要查看特定的日期，请使用日历版本：

1. 打开&#x200B;**版本控制**&#x200B;选项卡，然后单击&#x200B;**时间扭曲**（在 Sidekick 的底部附近）。将显示以下对话框：

   ![chlimage_1-76](assets/chlimage_1-76.png)

1. 使用日期和时间选择器，指定您所需的日期/时间，然后单击&#x200B;**转到**。

   时间扭曲将按所选的日期之前/当天页面的发布状态对其进行显示。

   >[!NOTE]
   >
   >如果您之前发布了该页面，时间扭曲才会完全正常工作。如果没有，时间扭曲将在创作环境显示当前页面。

   >[!NOTE]
   >
   >当您浏览到已从存储库删除的页面时，如果该页面的旧版本仍然位于存储库中，则该页面将会正常呈现。

   >[!NOTE]
   >
   >您无法删除页面的旧版本。旧版本仅供查看。如果要恢复旧版本，则必须使用[恢复](/help/sites-classic-ui-authoring/classic-page-author-work-with-versions.md#restoring-a-page-version-from-sidekick)功能手动恢复。

1. 当您查看完此页面时，请单击：

   * “**退出时间扭曲**”可以退出并返回到当前的创作页面。
   * [显示时间轴](#using-the-timewarp-timeline)可查看时间轴。

   ![chlimage_1-77](assets/chlimage_1-77.png)

### 使用时间扭曲时间线 {#using-the-timewarp-timeline}

如果您要在页面上查看发布活动的概述，请使用时间线版本。

如果您要查看文档的时间线：

1. 要显示时间线，您可以：

   1. 打开&#x200B;**版本控制**&#x200B;选项卡，然后单击&#x200B;**时间扭曲**（在 Sidekick 的底部附近）。

   1. 使用在[使用时间扭曲日历](#using-the-timewarp-calendar)之后显示的 Sidekick 对话框。

1. 单击“**显示时间轴**”- 文档的时间轴将会显示；例如：

   ![chlimage_1-78](assets/chlimage_1-78.png)

1. 选择并移动（拖住）时间轴可以在文档的时间轴上移动。

   * 所有时间轴指示已发布的版本。激活某个页面时，即开始使用新的线条。每次编辑此文档时，会显示新颜色。在以下示例中，红色线条表示该页面在初始绿色版本的时间段内进行了编辑，黄色线条表示该页面在红色版本的时间段内进行了编辑，等等。

   ![chlimage_1-79](assets/chlimage_1-79.png)

1. 单击:

   1. **转到**&#x200B;可以显示在所选的时间点已发布页面的内容。
   1. 显示该内容后，使用&#x200B;**退出时间扭曲**&#x200B;可退出并返回到当前的创作页面。

### 时间扭曲限制 {#timewarp-limitations}

时间扭曲会尽量在选定的时刻重现页面。但是，由于在 AEM 中连续创作内容的过程非常复杂，并非总能实现这一点。在使用时间扭曲时，应牢记以下限制。

* **时间扭曲基于已发布的页面工作** – 仅当您之前已发布页面时，时间扭曲才会完全正常工作。如果没有，时间扭曲将在创作环境显示当前页面。
* **时间扭曲使用页面版本** – 当您浏览到的页面已从存储库删除时，如果该页面的旧版本仍然位于存储库中，则该页面将会正常呈现。
* **已删除的版本会影响时间扭曲** – 如果从存储库从删除了版本，那么时间扭曲无法显示正确的视图。

* **时间扭曲为只读** – 您无法编辑页面的旧版本。旧版本仅供查看。如果要恢复旧版本，则必须使用[恢复](#main-pars-title-1)功能手动恢复。

* **时间扭曲仅基于页面内容** – 如果呈现网站的元素（如代码、css、资产/图像等）发生更改，则视图将与它原来的样子不同，因为这些项目不在存储库中进行版本控制。

>[!CAUTION]
>
>时间扭曲旨在作为一种帮助作者了解和创建其内容的工具。 而不是用作审查日志或用于法律目的。
